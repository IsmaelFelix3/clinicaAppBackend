"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[998],{2998:(L,N,m)=>{m.r(N),m.d(N,{AccountingModule:()=>Oe});var b=m(6814),h=m(1896),y=m(8337),x=m(1476),a=m(3566),s=m(5313),Q=m(2589),v=m(2438),F=m(3519),g=m.n(F),t=m(5879),M=m(9862),Y=m(9347),B=m(553);const P=B.N.api,w=B.N.banksEndpoint;let I=(()=>{class e{constructor(o){this.http=o}getBanks(){return this.http.get(`${P}${w}getBanks`)}getBankById(o){return this.http.get(`${P}${w}getBankById/${o}`)}addBank(o){return this.http.post(`${P}${w}postBank`,o)}editBank(o){return this.http.post(`${P}${w}editBank`,o)}deleteBank(o){return this.http.delete(`${P}${w}deleteBank/${o}`)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(M.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var O=m(2939),A=m(4414),u=m(2296),C=m(617),f=m(3680),d=m(2596),Z=m(9177);const q=["filter"];function J(e,i){1&e&&t._UZ(0,"mat-header-cell",40),2&e&&t.Q6J("ngClass","tbl-col-width-per-6")}function R(e,i){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Id"),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.id_banco)}}function W(e,i){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Banco"),t.qZA())}function tt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",42),t._uU(2,"Vehicle No:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.nombre_banco," ")}}function et(e,i){1&e&&(t.TgZ(0,"mat-header-cell",43),t._uU(1,"Acciones"),t.qZA())}function ot(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",43)(1,"button",44),t.NdJ("click",function(r){return r.stopPropagation()})("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.editCall(c))}),t._UZ(2,"app-feather-icons",45),t.qZA(),t.TgZ(3,"button",46),t.NdJ("click",function(r){return r.stopPropagation()})("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.deleteItem(c))}),t._UZ(4,"app-feather-icons",45),t.qZA()()}2&e&&(t.xp6(2),t.Tol("tbl-fav-edit"),t.Q6J("icon","edit"),t.xp6(2),t.Tol("tbl-fav-delete"),t.Q6J("icon","trash-2"))}function at(e,i){1&e&&t._UZ(0,"mat-header-row")}function rt(e,i){1&e&&t._UZ(0,"mat-row",47),2&e&&t.Udp("cursor","pointer")}const nt=function(){return["Ambulance"]},it=function(){return[5,10,25,100]};let lt=(()=>{class e extends Q.n{constructor(o,n,r,c,p){super(),this.httpClient=o,this.dialog=n,this.banksServcie=r,this.snackBar=c,this.router=p,this.displayedColumns=["id_banco","nombre_banco","actions"],this.dataSource=new s.by,this.banks=[],this.selection=new y.Ov(!0,[]),this.dataLength=0}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let o;o="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.router.navigateByUrl("admin/accounting/addBank")}editCall(o){this.router.navigateByUrl("admin/accounting/editBank",{state:{id:o.id_banco}})}deleteItem(o){this.id=o.id_banco,console.log(o),g().fire({title:"\xbfDesea eliminar este registro?",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar"}).then(n=>{n.isConfirmed&&this.banksServcie.deleteBank(this.id).subscribe({next:r=>{this.showNotification("snackbar-danger","Registro Eliminado Exitosamente...!!!","top","end")},complete:()=>{this.refresh()},error:r=>{g().fire({icon:"error",title:"Error al eliminar el registro",text:r.msg}),this.loadData()}})})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}loadData(){this.banksServcie.getBanks().subscribe({complete:()=>{},next:o=>{this.banks=o.bancos.rows,this.dataSource=new s.by(this.banks),this.dataSource.paginator=this.paginator,this.dataLength=this.banks.length},error:o=>{}}),this.subs.sink=(0,v.R)(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}showNotification(o,n,r,c){this.snackBar.open(n,"",{duration:2e3,verticalPosition:r,horizontalPosition:c,panelClass:o})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(M.eN),t.Y36(Y.uw),t.Y36(I),t.Y36(O.ux),t.Y36(h.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-banks-catalog"]],viewQuery:function(n,r){if(1&n&&(t.Gf(x.NW,7),t.Gf(a.YE,7),t.Gf(q,7)),2&n){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first),t.iGM(c=t.CRH())&&(r.sort=c.first),t.iGM(c=t.CRH())&&(r.filter=c.first)}},features:[t.qOj],decls:50,vars:12,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Buscar","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","Agregar",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],["matColumnDef","id_banco"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombre_banco"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],["mat-sort-header",""],[1,"mobile-label"],[1,"pr-0"],["matTooltip","Editar","mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matTooltip","Eliminar","mat-icon-button","",1,"tbl-action-btn",3,"click"],["matRipple",""]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),t._uU(12,"Bancos"),t.qZA()(),t.TgZ(13,"li",11)(14,"label",12)(15,"i",13),t._uU(16,"search"),t.qZA()(),t._UZ(17,"input",14,15),t.qZA()()(),t.TgZ(19,"div",16)(20,"ul",17)(21,"li",18)(22,"div",19)(23,"button",20),t.NdJ("click",function(){return r.addNew()}),t.TgZ(24,"mat-icon",21),t._uU(25,"add"),t.qZA()()()(),t.TgZ(26,"li",18)(27,"div",22)(28,"button",20),t.NdJ("click",function(){return r.refresh()}),t.TgZ(29,"mat-icon",21),t._uU(30,"refresh"),t.qZA()()()()()()(),t.TgZ(31,"div",23)(32,"div",24)(33,"mat-table",25,26),t.ynx(35,27),t.YNc(36,J,1,1,"mat-header-cell",28),t.BQk(),t.ynx(37,29),t.YNc(38,R,2,0,"mat-header-cell",30),t.YNc(39,X,2,1,"mat-cell",31),t.BQk(),t.ynx(40,32),t.YNc(41,W,2,0,"mat-header-cell",30),t.YNc(42,tt,4,1,"mat-cell",31),t.BQk(),t.ynx(43,33),t.YNc(44,et,2,0,"mat-header-cell",34),t.YNc(45,ot,5,6,"mat-cell",35),t.BQk(),t.YNc(46,at,1,0,"mat-header-row",36),t.YNc(47,rt,1,2,"mat-row",37),t.qZA(),t._UZ(48,"mat-paginator",38,39),t.qZA()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Bancos")("items",t.DdM(10,nt))("active_item","Bancos"),t.xp6(30),t.Q6J("dataSource",r.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.DdM(11,it)))},dependencies:[b.mk,A.L,u.RK,u.nh,C.Hw,x.NW,f.wG,a.YE,a.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,d.gM,Z.A]})}return e})();const S=B.N.api,E=B.N.paymentMethods;let G=(()=>{class e{constructor(o){this.http=o}getPaymentMethods(){return this.http.get(`${S}${E}getPaymentMethods`)}getPaymentMethodById(o){return this.http.get(`${S}${E}getPaymentMethodById/${o}`)}addPaymentMethod(o){return this.http.post(`${S}${E}addPaymentMethod`,o)}editPaymentMethod(o){return this.http.post(`${S}${E}editPaymentMethod`,o)}deletePaymentMethod(o){return this.http.delete(`${S}${E}deletePaymentMethod/${o}`)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(M.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ct=["filter"];function st(e,i){1&e&&t._UZ(0,"mat-header-cell",40),2&e&&t.Q6J("ngClass","tbl-col-width-per-6")}function mt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Id"),t.qZA())}function dt(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.id_forma_pago)}}function ut(e,i){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Forma Pago"),t.qZA())}function pt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",42),t._uU(2,"Forma Pago:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.nombre_forma_pago," ")}}function ht(e,i){1&e&&(t.TgZ(0,"mat-header-cell",43),t._uU(1,"Acciones"),t.qZA())}function ft(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",43)(1,"button",44),t.NdJ("click",function(r){return r.stopPropagation()})("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.editCall(c))}),t._UZ(2,"app-feather-icons",45),t.qZA(),t.TgZ(3,"button",46),t.NdJ("click",function(r){return r.stopPropagation()})("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.deleteItem(c))}),t._UZ(4,"app-feather-icons",45),t.qZA()()}2&e&&(t.xp6(2),t.Tol("tbl-fav-edit"),t.Q6J("icon","edit"),t.xp6(2),t.Tol("tbl-fav-delete"),t.Q6J("icon","trash-2"))}function _t(e,i){1&e&&t._UZ(0,"mat-header-row")}function gt(e,i){1&e&&t._UZ(0,"mat-row",47),2&e&&t.Udp("cursor","pointer")}const bt=function(){return["Formas de Pago"]},Ct=function(){return[5,10,25,100]};let Zt=(()=>{class e extends Q.n{constructor(o,n,r,c,p){super(),this.httpClient=o,this.dialog=n,this.paymentMethodService=r,this.snackBar=c,this.router=p,this.displayedColumns=["id_forma_pago","nombre_forma_pago","actions"],this.dataSource=new s.by,this.paymentMethods=[],this.selection=new y.Ov(!0,[]),this.dataLength=0}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let o;o="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.router.navigateByUrl("admin/accounting/addPaymentMethod")}editCall(o){this.router.navigateByUrl("admin/accounting/editPaymentMethod",{state:{id:o.id_forma_pago}})}deleteItem(o){this.id=o.id_forma_pago,console.log(o),g().fire({title:"\xbfDesea eliminar este registro?",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar"}).then(n=>{n.isConfirmed&&this.paymentMethodService.deletePaymentMethod(this.id).subscribe({next:r=>{this.showNotification("snackbar-danger","Registro Eliminado Exitosamente...!!!","top","end")},complete:()=>{this.refresh()},error:r=>{g().fire({icon:"error",title:"Error al eliminar el registro",text:r.msg}),this.loadData()}})})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}loadData(){this.paymentMethodService.getPaymentMethods().subscribe({complete:()=>{},next:o=>{this.paymentMethods=o.formasPago.rows,this.dataSource=new s.by(this.paymentMethods),this.dataSource.paginator=this.paginator,this.dataLength=this.paymentMethods.length},error:o=>{}}),this.subs.sink=(0,v.R)(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}showNotification(o,n,r,c){this.snackBar.open(n,"",{duration:2e3,verticalPosition:r,horizontalPosition:c,panelClass:o})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(M.eN),t.Y36(Y.uw),t.Y36(G),t.Y36(O.ux),t.Y36(h.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment-methods-catalog"]],viewQuery:function(n,r){if(1&n&&(t.Gf(x.NW,7),t.Gf(a.YE,7),t.Gf(ct,7)),2&n){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first),t.iGM(c=t.CRH())&&(r.sort=c.first),t.iGM(c=t.CRH())&&(r.filter=c.first)}},features:[t.qOj],decls:50,vars:12,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Buscar","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","Agregar",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],["matColumnDef","id_forma_pago"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombre_forma_pago"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],["mat-sort-header",""],[1,"mobile-label"],[1,"pr-0"],["matTooltip","Editar","mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matTooltip","Eliminar","mat-icon-button","",1,"tbl-action-btn",3,"click"],["matRipple",""]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),t._uU(12,"Formas de Pago"),t.qZA()(),t.TgZ(13,"li",11)(14,"label",12)(15,"i",13),t._uU(16,"search"),t.qZA()(),t._UZ(17,"input",14,15),t.qZA()()(),t.TgZ(19,"div",16)(20,"ul",17)(21,"li",18)(22,"div",19)(23,"button",20),t.NdJ("click",function(){return r.addNew()}),t.TgZ(24,"mat-icon",21),t._uU(25,"add"),t.qZA()()()(),t.TgZ(26,"li",18)(27,"div",22)(28,"button",20),t.NdJ("click",function(){return r.refresh()}),t.TgZ(29,"mat-icon",21),t._uU(30,"refresh"),t.qZA()()()()()()(),t.TgZ(31,"div",23)(32,"div",24)(33,"mat-table",25,26),t.ynx(35,27),t.YNc(36,st,1,1,"mat-header-cell",28),t.BQk(),t.ynx(37,29),t.YNc(38,mt,2,0,"mat-header-cell",30),t.YNc(39,dt,2,1,"mat-cell",31),t.BQk(),t.ynx(40,32),t.YNc(41,ut,2,0,"mat-header-cell",30),t.YNc(42,pt,4,1,"mat-cell",31),t.BQk(),t.ynx(43,33),t.YNc(44,ht,2,0,"mat-header-cell",34),t.YNc(45,ft,5,6,"mat-cell",35),t.BQk(),t.YNc(46,_t,1,0,"mat-header-row",36),t.YNc(47,gt,1,2,"mat-row",37),t.qZA(),t._UZ(48,"mat-paginator",38,39),t.qZA()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Formas de Pago")("items",t.DdM(10,bt))("active_item","Listado"),t.xp6(30),t.Q6J("dataSource",r.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.DdM(11,Ct)))},dependencies:[b.mk,A.L,u.RK,u.nh,C.Hw,x.NW,f.wG,a.YE,a.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,d.gM,Z.A]})}return e})();var l=m(6223),vt=m(7988),V=m(2537),H=m(5649),k=m(8034),_=m(4170),D=m(2032);const Tt=["filter"];function yt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar una fecha"))}function xt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Serie "),t.qZA())}function At(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.serie)}}function kt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Quirofano "),t.qZA())}function qt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Quirofano:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.Quirofano.nombre_quirofano," ")}}function Ut(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Doctor "),t.qZA())}function Ft(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Doctor:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.Medico.nombre+" "+o.Medico.apellidos," ")}}function Pt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Paciente "),t.qZA())}function wt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Paciente:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.Paciente.nombre+" "+o.Paciente.apellidos," ")}}function Dt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Procedimiento "),t.qZA())}function Nt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Procedimiento:"),t.qZA(),t._uU(3),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",o.Catalogo_Procedimiento.nombre_procedimiento," ")}}function Mt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Costo "),t.qZA())}function Bt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Costo:"),t.qZA(),t._uU(3),t.ALo(4,"currency"),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,o.costo)," ")}}function It(e,i){1&e&&(t.TgZ(0,"mat-header-cell",44),t._uU(1,"Fecha y Hora "),t.qZA())}function Jt(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",45),t._uU(2,"Date & Time:"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&e){const o=i.$implicit;t.xp6(3),t.hij(" ",t.xi3(4,1,o.fecha_procedimiento_inicio,"dd/MM/yyyy hh:mm:ss")," ")}}function Qt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",46),t._uU(1,"Acciones"),t.qZA())}function Yt(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",46)(1,"button",47),t.NdJ("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.closeProcedure(c))}),t._UZ(2,"app-feather-icons",48),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("matTooltip","Cerrar"),t.xp6(1),t.Tol("tbl-fav-edit"),t.Q6J("icon","edit"))}function St(e,i){1&e&&t._UZ(0,"mat-header-row")}function Et(e,i){1&e&&t._UZ(0,"mat-row",49),2&e&&t.Udp("cursor","pointer")}const Ot=function(){return[]},Rt=function(){return[5,10,25,100]};let Gt=(()=>{class e{constructor(o,n,r,c,p){this.dialog=o,this.cliqProceduresService=n,this.router=r,this.fb=c,this.cdr=p,this.form=this.fb.group({fecha:["",l.kI.required]}),this.filterToggle=!1,this.isTableVisible=!1,this.displayedColumns=["serie","doctor","patient","typeProcedure","dateTime","quirofano","costo","actions"],this.currentDate=(new Date).toUTCString(),this.estatus=1,this.dataSource=new s.by,this.minDate=new Date,this.datosFuente=[],this.selection=new y.Ov(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.myFilter=T=>{const U=(T||new Date).getDay();return 0!==U&&7!==U},new s.by([])}ngOnInit(){this.loadData()}refresh(){this.loadData()}search(){if(!this.form.valid)return void this.form.markAllAsTouched();let o=new Date(this.form.value.fecha).toUTCString();this.cliqProceduresService.getAccountingProcedures(o).subscribe(n=>{console.log(n,"click"),this.isTableVisible=!0,this.datosFuente=n.procedimientos.rows,console.log(this.datosFuente),this.dataSource=new s.by(this.datosFuente),this.cdr.detectChanges(),this.dataSource.paginator=this.paginator})}campoEsValido(o){return this.form.controls[o].errors&&this.form.controls[o].touched}loadData(){this.cliqProceduresService.getAccountingProcedures(this.currentDate).subscribe(o=>{console.log(o.procedimientos.rows),this.datosFuente=o.procedimientos.rows,this.dataSource=new s.by(this.datosFuente),this.dataSource.paginator=this.paginator})}closeProcedure(o){g().fire({title:"\xbfDesea iniciar el proceso de cierre?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.router.navigateByUrl("admin/accounting/closeForm",{state:o})})}redirect(o){g().fire({title:"\xbfDesea editar la reserva de quirofano?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/editProcedure",{state:o})})}addNew(){let o;o="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(V.U,{data:{procedures:this.procedures,action:"add"},direction:o})}detailsCall(o){let n;console.log(o),n="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(V.U,{data:{appointments:o,action:"details"},direction:n,height:"71%",width:"35%"})}toggleStar(o){console.log(o)}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}getStatus(o){return"En espera"==o?"mat-primary":"En curso"==o?"mat-success":"mat-finish"}addSupplies(o){g().fire({title:"\xbfDesea agregar insumos al procedimiento?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/addSupplies",{state:{id:o}})})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(Y.uw),t.Y36(H.J),t.Y36(h.F0),t.Y36(l.qu),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-close-procedure"]],viewQuery:function(n,r){if(1&n&&(t.Gf(x.NW,7),t.Gf(a.YE,7),t.Gf(Tt,7),t.Gf(vt.p6,5)),2&n){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first),t.iGM(c=t.CRH())&&(r.sort=c.first),t.iGM(c=t.CRH())&&(r.filter=c.first),t.iGM(c=t.CRH())&&(r.contextMenu=c.first)}},decls:67,vars:17,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],[3,"formGroup"],["appearance","outline",1,"col-4"],["matInput","","formControlName","fecha",3,"matDatepickerFilter","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["mat-raised-button","","color","primary",1,"ms-4",3,"click"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"right"],[1,"tbl-export-btn"],["matTooltip","XLSX",1,"export-button","m-l-10"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","serie",2,"display","none"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","quirofano"],["matColumnDef","doctor"],["matColumnDef","patient"],["matColumnDef","typeProcedure"],["matColumnDef","costo"],["matColumnDef","dateTime"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"mobile-label"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"matTooltip","click"],[3,"icon"],["matRipple",""]],template:function(n,r){if(1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"div",6),t.TgZ(7,"div",7)(8,"div",8)(9,"form",9)(10,"mat-form-field",10)(11,"mat-label"),t._uU(12,"Fecha"),t.qZA(),t._UZ(13,"input",11)(14,"mat-datepicker-toggle",12)(15,"mat-datepicker",null,13),t.YNc(17,yt,2,1,"mat-error",14),t.qZA(),t.TgZ(18,"button",15),t.NdJ("click",function(){return r.search()}),t.TgZ(19,"mat-icon"),t._uU(20,"search"),t.qZA(),t._uU(21," Buscar "),t.qZA()()()()()(),t.TgZ(22,"div",4)(23,"div",16)(24,"div",5)(25,"div",17)(26,"div",18)(27,"ul",19)(28,"li",20)(29,"h2"),t._uU(30,"Procedimientos"),t.qZA()()()(),t.TgZ(31,"div",21)(32,"ul",22)(33,"li"),t._UZ(34,"div",23),t.qZA()()()(),t.TgZ(35,"div",24)(36,"div",25)(37,"mat-table",26,27),t.ynx(39,28),t.YNc(40,xt,2,0,"mat-header-cell",29),t.YNc(41,At,2,1,"mat-cell",30),t.BQk(),t.ynx(42,31),t.YNc(43,kt,2,0,"mat-header-cell",29),t.YNc(44,qt,4,1,"mat-cell",30),t.BQk(),t.ynx(45,32),t.YNc(46,Ut,2,0,"mat-header-cell",29),t.YNc(47,Ft,4,1,"mat-cell",30),t.BQk(),t.ynx(48,33),t.YNc(49,Pt,2,0,"mat-header-cell",29),t.YNc(50,wt,4,1,"mat-cell",30),t.BQk(),t.ynx(51,34),t.YNc(52,Dt,2,0,"mat-header-cell",29),t.YNc(53,Nt,4,1,"mat-cell",30),t.BQk(),t.ynx(54,35),t.YNc(55,Mt,2,0,"mat-header-cell",29),t.YNc(56,Bt,5,3,"mat-cell",30),t.BQk(),t.ynx(57,36),t.YNc(58,It,2,0,"mat-header-cell",29),t.YNc(59,Jt,5,4,"mat-cell",30),t.BQk(),t.ynx(60,37),t.YNc(61,Qt,2,0,"mat-header-cell",38),t.YNc(62,Yt,3,4,"mat-cell",39),t.BQk(),t.YNc(63,St,1,0,"mat-header-row",40),t.YNc(64,Et,1,2,"mat-row",41),t.qZA(),t._UZ(65,"mat-paginator",42,43),t.qZA()()()()()()()),2&n){const c=t.MAs(16);t.xp6(3),t.Q6J("title","Procedimientos CLIQ")("items",t.DdM(15,Ot))("active_item","Procedimientos de hoy"),t.xp6(6),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("matDatepickerFilter",r.myFilter)("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(3),t.Q6J("ngIf",r.campoEsValido("fecha")),t.xp6(20),t.Q6J("dataSource",r.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.datosFuente.length)("pageIndex",0)("pageSize",5)("pageSizeOptions",t.DdM(16,Rt))}},dependencies:[b.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.L,u.lW,u.RK,k.Mq,k.hl,k.nW,_.KE,_.hX,_.TO,_.R9,C.Hw,D.Nt,x.NW,f.wG,a.YE,a.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,d.gM,Z.A,b.H9,b.uU]})}return e})();var Ht=m(9182),$=m(3517),Lt=m(8525);function Vt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Debe ingresar la serie "),t.qZA())}function $t(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Debe ingresar el medico "),t.qZA())}function jt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Debe ingresar al paciente "),t.qZA())}function zt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Favor de seleccionar la fecha del procedimiento "),t.qZA())}function Kt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Debe ingresar el procedimiento "),t.qZA())}function Xt(e,i){if(1&e&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.Q6J("value",o.id_quirofano),t.xp6(1),t.hij(" ",o.nombre_quirofano," ")}}function Wt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar el quirofano"))}function te(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe ingresar el costo del procedimiento"))}function ee(e,i){if(1&e&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.Q6J("value",o.id_forma_pago),t.xp6(1),t.hij(" ",o.nombre_forma_pago," ")}}function oe(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar la forma de pago "),t.qZA())}function ae(e,i){if(1&e&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.Q6J("value",o.id_banco),t.xp6(1),t.hij(" ",o.nombre_banco," ")}}function re(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar el banco"))}const ne=function(){return[]};let ie=(()=>{class e{constructor(o,n,r,c,p,T){this.router=o,this.fb=n,this.quirofanosService=r,this.bankService=c,this.paymentMethodService=p,this.cliqProcedureService=T,this.state={},this.quirofanos=[],this.bancos=[],this.formasPago=[],this.procedureForm=this.fb.group({serie:[,l.kI.required],paciente:[,l.kI.required],medico:[,l.kI.required],fechaProcedimiento:[,l.kI.required],quirofano:[,l.kI.required],costo:[,l.kI.required],banco:[,l.kI.required],formaPago:[,l.kI.required],procedimiento:[,l.kI.required]}),this.state=this.router.getCurrentNavigation()?.extras.state}ngOnInit(){console.log(this.state),null!=this.state?(this.quirofanosService.getQuirofanos().subscribe(o=>{this.quirofanos=o.quirofanos.rows}),this.bankService.getBanks().subscribe(o=>{this.bancos=o.bancos.rows}),this.paymentMethodService.getPaymentMethods().subscribe(o=>{this.formasPago=o.formasPago.rows}),this.procedureForm.setValue({serie:this.state.serie,paciente:this.state.Paciente.nombre+" "+this.state.Paciente.apellidos,medico:this.state.Medico.nombre+" "+this.state.Medico.apellidos,fechaProcedimiento:this.state.fecha_procedimiento_inicio,quirofano:this.state.Quirofano.id_quirofano,costo:this.state.costo,banco:this.state.Catalogo_Banco.id_banco,formaPago:this.state.Catalogo_Forma_Pago.id_forma_pago,procedimiento:this.state.Catalogo_Procedimiento.nombre_procedimiento}),console.log(this.procedureForm.value),this.procedureForm.get("serie")?.disable(),this.procedureForm.get("medico")?.disable(),this.procedureForm.get("paciente")?.disable(),this.procedureForm.get("fechaProcedimiento")?.disable(),this.procedureForm.get("procedimiento")?.disable()):this.router.navigateByUrl("admin/accounting/closeProcedure")}numberOnly(o){const n=o.code;return!("Digit"!==n.substring(0,5)&&"Period"!==n.substring(0,6))}campoEsValido(o){return this.procedureForm.controls[o].errors&&this.procedureForm.controls[o].touched}closeProcedure(){this.procedureForm.valid?(console.log(this.procedureForm),this.cliqProcedureService.postAccountingProcedure({costo:this.procedureForm.value.costo,id_reserva:this.state.id_reserva,id_banco:this.procedureForm.value.banco,id_quirofano:this.procedureForm.value.quirofano,id_forma_pago:this.procedureForm.value.formaPago,estatus:"Procedimiento Cerrado"}).subscribe({complete:()=>{this.procedureForm.reset(),g().fire("Guardado con exito"),this.router.navigateByUrl("admin/accounting/closeProcedure")},error:n=>{console.log(n),g().fire({icon:"error",title:"Error al guardar la informaci\xf3n",text:n.msg})}})):this.procedureForm.markAllAsTouched()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(h.F0),t.Y36(l.qu),t.Y36($.I),t.Y36(I),t.Y36(G),t.Y36(H.J))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-close-form"]],decls:90,vars:19,consts:[[1,"m-4",3,"formGroup"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],[1,"col-xl-2","col-lg-6","col-md-6","col-sm-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","serie","required",""],[4,"ngIf"],[1,"col-xl-4","col-lg-6","col-md-6","col-sm-12"],["matInput","","formControlName","medico","required",""],["matInput","","formControlName","paciente"],[1,"col-xl-2","col-lg-4","col-md-6","col-sm-12"],["matInput","","formControlName","fechaProcedimiento","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-12"],["matInput","","formControlName","procedimiento","maxlength","10","type","text"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12"],["formControlName","quirofano"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-12"],["matInput","","formControlName","costo","type","text",3,"keypress"],["appearance","outline",1,"col-xl-4","col-lg-4","col-md-4","col-sm-12"],["formControlName","formaPago","required",""],["formControlName","banco","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["type","button","mat-raised-button","","color","warn"],[3,"value"]],template:function(n,r){if(1&n&&(t.TgZ(0,"form",0)(1,"section",1)(2,"div",2)(3,"div",3),t._UZ(4,"app-breadcrumb",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h2"),t._uU(10,"Informacion del procedimiento"),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",5)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Serie"),t.qZA(),t._UZ(18,"input",13),t.YNc(19,Vt,2,0,"mat-error",14),t.qZA()(),t.TgZ(20,"div",15)(21,"mat-form-field",12)(22,"mat-label"),t._uU(23,"Medico"),t.qZA(),t._UZ(24,"input",16),t.YNc(25,$t,2,0,"mat-error",14),t.qZA()(),t.TgZ(26,"div",15)(27,"mat-form-field",12)(28,"mat-label"),t._uU(29,"Paciente"),t.qZA(),t._UZ(30,"input",17),t.YNc(31,jt,2,0,"mat-error",14),t.qZA()(),t.TgZ(32,"div",18)(33,"mat-form-field",12)(34,"mat-label"),t._uU(35,"Fecha Procedimiento"),t.qZA(),t._UZ(36,"input",19)(37,"mat-datepicker-toggle",20)(38,"mat-datepicker",null,21),t.YNc(40,zt,2,0,"mat-error",14),t.qZA()(),t.TgZ(41,"div",5)(42,"div",22)(43,"mat-form-field",12)(44,"mat-label"),t._uU(45,"Procedimiento"),t.qZA(),t._UZ(46,"input",23),t.YNc(47,Kt,2,0,"mat-error",14),t.qZA()(),t.TgZ(48,"div",24)(49,"mat-form-field",12)(50,"mat-label"),t._uU(51,"Quirofano"),t.qZA(),t.TgZ(52,"mat-select",25),t.YNc(53,Xt,2,2,"mat-option",26),t.qZA(),t.YNc(54,Wt,2,1,"mat-error",14),t.qZA()()()()()()()()(),t.TgZ(55,"div",5)(56,"div",6)(57,"div",7)(58,"div",8)(59,"h2"),t._uU(60,"Contabilidad"),t.qZA()(),t.TgZ(61,"div",9)(62,"div",10)(63,"div",5)(64,"div",5)(65,"div",27)(66,"mat-form-field",12)(67,"mat-label"),t._uU(68,"Costo"),t.qZA(),t.TgZ(69,"input",28),t.NdJ("keypress",function(p){return r.numberOnly(p)}),t.qZA(),t.YNc(70,te,2,1,"mat-error",14),t.qZA()(),t.TgZ(71,"mat-form-field",29)(72,"mat-label"),t._uU(73,"Forma de Pago"),t.qZA(),t.TgZ(74,"mat-select",30),t.YNc(75,ee,2,2,"mat-option",26),t.qZA(),t.YNc(76,oe,2,0,"mat-error",14),t.qZA(),t.TgZ(77,"div",27)(78,"mat-form-field",12)(79,"mat-label"),t._uU(80,"Banco"),t.qZA(),t.TgZ(81,"mat-select",31),t.YNc(82,ae,2,2,"mat-option",26),t.qZA(),t.YNc(83,re,2,1,"mat-error",14),t.qZA()()()(),t.TgZ(84,"div",5)(85,"div",32)(86,"button",33),t.NdJ("click",function(){return r.closeProcedure()}),t._uU(87,"Cerrar Procedimiento"),t.qZA(),t.TgZ(88,"button",34),t._uU(89,"Cancelar"),t.qZA()()()()()()()()()()()),2&n){const c=t.MAs(39);let p,T,U,j,z,K;t.Q6J("formGroup",r.procedureForm),t.xp6(4),t.Q6J("title","Procedimientos CLIQ")("items",t.DdM(18,ne))("active_item","Insumos del procedimiento"),t.xp6(15),t.Q6J("ngIf",null==(p=r.procedureForm.get("serie"))?null:p.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(T=r.procedureForm.get("medico"))?null:T.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(U=r.procedureForm.get("paciente"))?null:U.hasError("required")),t.xp6(5),t.Q6J("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(3),t.Q6J("ngIf",null==(j=r.procedureForm.get("fechaProcedimiento"))?null:j.hasError("required")),t.xp6(7),t.Q6J("ngIf",null==(z=r.procedureForm.get("procedimiento"))?null:z.hasError("required")),t.xp6(6),t.Q6J("ngForOf",r.quirofanos),t.xp6(1),t.Q6J("ngIf",r.campoEsValido("quirofano")),t.xp6(16),t.Q6J("ngIf",r.campoEsValido("costo")),t.xp6(5),t.Q6J("ngForOf",r.formasPago),t.xp6(1),t.Q6J("ngIf",null==(K=r.procedureForm.get("formaPago"))?null:K.hasError("required")),t.xp6(6),t.Q6J("ngForOf",r.bancos),t.xp6(1),t.Q6J("ngIf",r.campoEsValido("banco"))}},dependencies:[b.sg,b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,A.L,f.ey,u.lW,k.Mq,k.hl,k.nW,_.KE,_.hX,_.TO,_.R9,D.Nt,Lt.gD]})}return e})();function le(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar una fecha de inicio"))}function ce(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar una fecha fin"))}function se(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Gasto"),t.qZA())}function me(e,i){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",33),t.qZA()),2&e&&(t.Q6J("formGroup",i.$implicit),t.xp6(1),t.Q6J("readonly",!0))}function de(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Importe"),t.qZA())}function ue(e,i){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",34),t.qZA()),2&e&&t.Q6J("formGroup",i.$implicit)}function pe(e,i){1&e&&t._UZ(0,"tr",35)}function he(e,i){1&e&&t._UZ(0,"tr",36)}function fe(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Ingreso"),t.qZA())}function _e(e,i){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",39),t.qZA()),2&e&&(t.Q6J("formGroup",i.$implicit),t.xp6(1),t.Q6J("readonly",!0))}function ge(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Importe"),t.qZA())}function be(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=i.$implicit;t.Q6J("formGroup",o),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.get("importe").value)," ")}}function Ce(e,i){1&e&&t._UZ(0,"tr",35)}function Ze(e,i){1&e&&t._UZ(0,"tr",36)}function ve(e,i){if(1&e&&(t.TgZ(0,"div",16)(1,"div",18)(2,"form",19),t.ynx(3,37),t.TgZ(4,"table",21,22),t.ynx(6,38),t.YNc(7,fe,2,0,"th",24),t.YNc(8,_e,2,2,"td",25),t.BQk(),t.ynx(9,26),t.YNc(10,ge,2,0,"th",24),t.YNc(11,be,3,4,"td",25),t.BQk(),t.YNc(12,Ce,1,0,"tr",27),t.YNc(13,Ze,1,0,"tr",28),t.qZA(),t.BQk(),t.qZA()()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.proceduresForm),t.xp6(2),t.Q6J("dataSource",o.dataSource2),t.xp6(8),t.Q6J("matHeaderRowDef",o.displayedColumns2),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns2)}}function Te(e,i){if(1&e&&(t.TgZ(0,"div",16)(1,"div",40)(2,"table")(3,"tr")(4,"th"),t._uU(5,"Gastos"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"tr")(10,"th"),t._uU(11,"Ingresos"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"currency"),t.qZA()(),t.TgZ(15,"tr")(16,"th"),t._uU(17,"Balance"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"currency"),t.qZA()()()()()),2&e){const o=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,3,o.totalGastos)),t.xp6(6),t.Oqu(t.lcZ(14,5,o.totalIngresos)),t.xp6(6),t.Oqu(t.lcZ(20,7,o.balance))}}function ye(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.calculate())}),t._uU(1,"Calcular Balance"),t.qZA()}}const xe=[{gasto:"Renta Todo Incluido 5to Piso",importe:0},{gasto:"Mantenimiento 5to Piso 901",importe:0},{gasto:"Poliza fumigaci\xf3n",importe:82680},{gasto:"Seguro inmueble",importe:0},{gasto:"P\xf3liza RPBI",importe:0},{gasto:"Papeleria",importe:1500},{gasto:"Lavanderia",importe:5100},{gasto:"INFRA",importe:4e3},{gasto:"Luz",importe:12500},{gasto:"Medicamentos",importe:42464.6},{gasto:"Insumos (mercancia + gasto gral)",importe:96024.73},{gasto:"Agua, Caf\xe9, galletas, refrescos",importe:1500},{gasto:"MKT Cristina",importe:3500},{gasto:"Publicidad Pagada",importe:14e3},{gasto:"Arrendamiento Equipos",importe:11624.91},{gasto:"Sueldos (incluye administraci\xf3n)",importe:149221.1},{gasto:"IMSS, RCV, INFONAVIT, Imp nomina",importe:35294.71},{gasto:"Honorarios anestesia",importe:0},{gasto:"Honorarios enfermeria extra",importe:0},{gasto:"ISR",importe:0},{gasto:"IVA",importe:0}];let Ae=(()=>{class e{constructor(o,n,r,c){this.fb=o,this._formBuilder=n,this.cliqProceduresService=r,this.operatingRoomService=c,this.totalGastos=0,this.totalIngresos=0,this.balance=0,this.showIngresos=!1,this.showBalance=!1,this.dataSource=new s.by,this.dataSource2=new s.by,this.form=this.fb.group({start:["",l.kI.required],end:["",l.kI.required]}),this.displayedColumns=["gasto","importe"],this.displayedColumns2=["ingreso","importe"],this.myFilter=p=>{const T=(p||new Date).getDay();return 0!==T&&7!==T}}ngOnInit(){this.VOForm=this._formBuilder.group({VORows:this._formBuilder.array([])}),this.proceduresForm=this._formBuilder.group({operatingRoomsRows:this._formBuilder.array([])}),this.VOForm=this.fb.group({VORows:this.fb.array(xe.map(o=>this.fb.group({gasto:new l.NI(o.gasto),importe:new l.NI(o.importe)})))}),console.log(this.VOForm),this.dataSource=new s.by(this.VOForm.get("VORows").controls)}calculate(){console.log(this.VOForm.value),console.log(this.proceduresForm.value),this.totalGastos=this.VOForm.value.VORows.reduce((o,n)=>o+parseFloat(n.importe),0),this.totalIngresos=this.proceduresForm.value.operatingRoomsRows.reduce((o,n)=>o+parseFloat(n.importe),0),this.balance=this.totalIngresos-this.totalGastos,this.showBalance=!0}calculateDays(o,n){let r=new Date(o);return(new Date(n)-r)/864e5+1}search(){let o=this.form.value.start,n=this.form.value.end,r=new Date(Date.UTC(new Date(o).getUTCFullYear(),new Date(o).getUTCMonth(),new Date(o).getUTCDate(),0,0,0)).toUTCString(),c=new Date(Date.UTC(new Date(n).getUTCFullYear(),new Date(n).getUTCMonth(),new Date(n).getUTCDate(),23,59,59)).toUTCString(),p=this.calculateDays(o,n);console.log(p),this.cliqProceduresService.getPIByOR(r,c).subscribe(T=>{console.log(T),this.proceduresForm=this.fb.group({operatingRoomsRows:this.fb.array(T.totalIncome.rows.map(U=>this.fb.group({ingreso:new l.NI(U.Quirofano.nombre_quirofano),importe:new l.NI(U.total_income)})))}),console.log(this.proceduresForm),this.dataSource2=new s.by(this.proceduresForm.get("operatingRoomsRows").controls)}),this.showIngresos=!0}campoEsValido(o){return this.form.controls[o].errors&&this.form.controls[o].touched}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.qu),t.Y36(l.qu),t.Y36(H.J),t.Y36($.I))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-balance"]],decls:48,vars:16,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"mt-3"],[3,"formGroup"],["appearance","outline",1,"col-3","me-2"],["matInput","","formControlName","start",3,"matDatepickerFilter","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["appearance","outline",1,"col-3"],["matInput","","formControlName","end",3,"matDatepickerFilter","matDatepicker"],["picker2",""],["mat-raised-button","","color","primary",1,"ms-4",3,"click"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","col-xs-12"],[1,"card"],[2,"background-color","#144464","color","white","margin-bottom","0px"],[1,"table-responsive"],["autocomplete","off",3,"formGroup"],["formArrayName","VORows"],["mat-table","",3,"dataSource"],["table",""],["matColumnDef","gasto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","importe"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card",4,"ngIf"],["button","","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],["matInput","","type","text","formControlName","gasto",2,"width","230px","border","none",3,"readonly"],["matInput","","type","number","formControlName","importe",2,"width","90px","border","none"],["mat-header-row",""],["mat-row",""],["formArrayName","operatingRoomsRows"],["matColumnDef","ingreso"],["matInput","","type","text","formControlName","ingreso",2,"width","230px","border","none",3,"readonly"],[1,"materialTableHeader"],["button","","mat-raised-button","","color","primary",3,"click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"form",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7,"Fecha Inicio"),t.qZA(),t._UZ(8,"input",6)(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,8),t.YNc(12,le,2,1,"mat-error",9),t.qZA(),t.TgZ(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Fecha Fin"),t.qZA(),t._UZ(16,"input",11)(17,"mat-datepicker-toggle",7)(18,"mat-datepicker",null,12),t.YNc(20,ce,2,1,"mat-error",9),t.qZA(),t.TgZ(21,"button",13),t.NdJ("click",function(){return r.search()}),t.TgZ(22,"mat-icon"),t._uU(23,"search"),t.qZA(),t._uU(24," Buscar "),t.qZA()()(),t.TgZ(25,"div",14)(26,"div",15)(27,"div",16)(28,"div")(29,"h2",17),t._uU(30,"Procedimientos CLIQ S.A. de C.V."),t.qZA()(),t.TgZ(31,"div",18)(32,"form",19),t.ynx(33,20),t.TgZ(34,"table",21,22),t.ynx(36,23),t.YNc(37,se,2,0,"th",24),t.YNc(38,me,2,2,"td",25),t.BQk(),t.ynx(39,26),t.YNc(40,de,2,0,"th",24),t.YNc(41,ue,2,1,"td",25),t.BQk(),t.YNc(42,pe,1,0,"tr",27),t.YNc(43,he,1,0,"tr",28),t.qZA(),t.BQk(),t.qZA()()()(),t.TgZ(44,"div",15),t.YNc(45,ve,14,4,"div",29),t.YNc(46,Te,21,9,"div",29),t.YNc(47,ye,2,0,"button",30),t.qZA()()()()),2&n){const c=t.MAs(11),p=t.MAs(19);t.xp6(4),t.Q6J("formGroup",r.form),t.xp6(4),t.Q6J("matDatepickerFilter",r.myFilter)("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(3),t.Q6J("ngIf",r.campoEsValido("start")),t.xp6(4),t.Q6J("matDatepickerFilter",r.myFilter)("matDatepicker",p),t.xp6(1),t.Q6J("for",p),t.xp6(3),t.Q6J("ngIf",r.campoEsValido("end")),t.xp6(12),t.Q6J("formGroup",r.VOForm),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(8),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("ngIf",r.showIngresos),t.xp6(1),t.Q6J("ngIf",r.showBalance),t.xp6(1),t.Q6J("ngIf",r.showIngresos)}},dependencies:[b.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,l.CE,u.lW,k.Mq,k.hl,k.nW,_.KE,_.hX,_.TO,_.R9,C.Hw,D.Nt,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,b.H9],styles:[".mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__row[_ngcontent-%COMP%]{height:25px}.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%]{height:30px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return e})();function ke(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe ingresar el nombre del banco"))}const qe=function(){return[]};let Ue=(()=>{class e{constructor(o,n,r){this.fb=o,this.router=n,this.bankService=r,this.bankForm=this.fb.group({nombre_banco:[,[l.kI.required]]})}campoEsValido(o){return this.bankForm.controls[o].errors&&this.bankForm.controls[o].touched}addProcedure(){this.bankForm.valid?(this.bankForm.get("nombre_banco")?.setValue(this.bankForm.value.nombre_banco.toUpperCase()),this.bankService.addBank(this.bankForm.value).subscribe({complete:()=>{this.router.navigateByUrl("admin/accounting/banksCatalog")},next:o=>{console.log(o),g().fire({icon:"success",title:"Banco se guardo correctamente"})},error:o=>{g().fire({icon:"error",title:"Error al guardar el banco",text:o.msg})}})):this.bankForm.markAllAsTouched()}return(){this.router.navigateByUrl("admin/accounting/banksCatalog")}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.qu),t.Y36(h.F0),t.Y36(I))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-bank"]],decls:25,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"mx-4",3,"formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","nombre_banco","required","",1,"uppercase"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t._uU(9,"Nuevo Banco"),t.qZA()(),t.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),t._uU(16,"Nombre Banco"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,ke,2,1,"mat-error",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",5)(21,"button",15),t.NdJ("click",function(){return r.addProcedure()}),t._uU(22,"Guardar"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){return r.return()}),t._uU(24,"Cancel"),t.qZA()()()()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Bancos")("items",t.DdM(5,qe))("active_item","Nuevo Banco"),t.xp6(8),t.Q6J("formGroup",r.bankForm),t.xp6(7),t.Q6J("ngIf",r.campoEsValido("nombre_banco")))},dependencies:[b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,A.L,u.lW,_.KE,_.hX,_.TO,D.Nt],styles:[".uppercase[_ngcontent-%COMP%]{text-transform:uppercase}"]})}return e})();function Fe(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe ingresar el nombre del banco"))}const Pe=function(){return[]};let we=(()=>{class e{constructor(o,n,r){this.fb=o,this.router=n,this.bankService=r,this.bankForm=this.fb.group({id_banco:[,[l.kI.required]],nombre_banco:[,[l.kI.required]]}),this.state={},this.state=this.router.getCurrentNavigation()?.extras.state}ngOnInit(){null!=this.state?(console.log(this.state),this.bankService.getBankById(this.state.id).subscribe(o=>{console.log(o),this.bankForm.get("id_banco")?.setValue(o.banco.id_banco),this.bankForm.get("nombre_banco")?.setValue(o.banco.nombre_banco)})):this.router.navigateByUrl("admin/accounting/banksCatalog")}campoEsValido(o){return this.bankForm.controls[o].errors&&this.bankForm.controls[o].touched}editProcedure(){this.bankForm.valid?(this.bankForm.get("nombre_banco")?.setValue(this.bankForm.value.nombre_banco.toUpperCase()),this.bankService.editBank(this.bankForm.value).subscribe({complete:()=>{this.router.navigateByUrl("admin/accounting/banksCatalog")},next:o=>{console.log(o),g().fire({icon:"success",title:"Banco editado correctamente"})},error:o=>{g().fire({icon:"error",title:"Error al editar el banco",text:o.msg})}})):this.bankForm.markAllAsTouched()}return(){this.router.navigateByUrl("admin/accounting/banksCatalog")}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.qu),t.Y36(h.F0),t.Y36(I))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-bank"]],decls:25,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"mx-4",3,"formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","nombre_banco","required","",1,"uppercase"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t._uU(9,"Editar Banco"),t.qZA()(),t.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),t._uU(16,"Nombre Banco"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,Fe,2,1,"mat-error",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",5)(21,"button",15),t.NdJ("click",function(){return r.editProcedure()}),t._uU(22,"Editar"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){return r.return()}),t._uU(24,"Cancel"),t.qZA()()()()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Bancos")("items",t.DdM(5,Pe))("active_item","Editar Banco"),t.xp6(8),t.Q6J("formGroup",r.bankForm),t.xp6(7),t.Q6J("ngIf",r.campoEsValido("nombre_banco")))},dependencies:[b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,A.L,u.lW,_.KE,_.hX,_.TO,D.Nt],styles:[".uppercase[_ngcontent-%COMP%]{text-transform:uppercase}"]})}return e})();function De(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe ingresar el nombre de la Forma de Pago"))}const Ne=function(){return[]};let Me=(()=>{class e{constructor(o,n,r){this.fb=o,this.router=n,this.paymentMethodService=r,this.paymentMethodForm=this.fb.group({id_forma_pago:[,[l.kI.required]],nombre_forma_pago:[,[l.kI.required]]}),this.state={},this.state=this.router.getCurrentNavigation()?.extras.state}ngOnInit(){null!=this.state?this.paymentMethodService.getPaymentMethodById(this.state.id).subscribe(o=>{console.log(o),this.paymentMethodForm.get("id_forma_pago")?.setValue(o.formaPago.id_forma_pago),this.paymentMethodForm.get("nombre_forma_pago")?.setValue(o.formaPago.nombre_forma_pago)}):this.router.navigateByUrl("admin/accounting/paymentMethodsCatalog")}campoEsValido(o){return this.paymentMethodForm.controls[o].errors&&this.paymentMethodForm.controls[o].touched}editProcedure(){this.paymentMethodForm.valid?(this.paymentMethodForm.get("nombre_forma_pago")?.setValue(this.paymentMethodForm.value.nombre_forma_pago.toUpperCase()),this.paymentMethodService.editPaymentMethod(this.paymentMethodForm.value).subscribe({complete:()=>{this.router.navigateByUrl("admin/accounting/paymentMethodsCatalog")},next:o=>{console.log(o),g().fire({icon:"success",title:"La especialidad editada correctamente"})},error:o=>{g().fire({icon:"error",title:"Error al editar la especialidad",text:o.msg})}})):this.paymentMethodForm.markAllAsTouched()}return(){this.router.navigateByUrl("admin/accounting/paymentMethodsCatalog")}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.qu),t.Y36(h.F0),t.Y36(G))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-payment-method"]],decls:25,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"mx-4",3,"formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","nombre_forma_pago","required","",1,"uppercase"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t._uU(9,"Editar Forma Pago"),t.qZA()(),t.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),t._uU(16,"Nombre Forma Pago"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,De,2,1,"mat-error",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",5)(21,"button",15),t.NdJ("click",function(){return r.editProcedure()}),t._uU(22,"Editar"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){return r.return()}),t._uU(24,"Cancel"),t.qZA()()()()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Formas de Pago")("items",t.DdM(5,Ne))("active_item","Editar Forma Pago"),t.xp6(8),t.Q6J("formGroup",r.paymentMethodForm),t.xp6(7),t.Q6J("ngIf",r.campoEsValido("nombre_forma_pago")))},dependencies:[b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,A.L,u.lW,_.KE,_.hX,_.TO,D.Nt],styles:[".uppercase[_ngcontent-%COMP%]{text-transform:uppercase}"]})}return e})();function Be(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe ingresar el nombre de la forma de pago"))}const Ie=function(){return[]},Je=[{path:"banksCatalog",component:lt},{path:"addBank",component:Ue},{path:"editBank",component:we},{path:"paymentMethodsCatalog",component:Zt},{path:"addPaymentMethod",component:(()=>{class e{constructor(o,n,r){this.fb=o,this.router=n,this.paymentMethodService=r,this.paymentMethodForm=this.fb.group({nombre_forma_pago:[,[l.kI.required]]})}campoEsValido(o){return this.paymentMethodForm.controls[o].errors&&this.paymentMethodForm.controls[o].touched}addProcedure(){this.paymentMethodForm.valid?(this.paymentMethodForm.get("nombre_forma_pago")?.setValue(this.paymentMethodForm.value.nombre_forma_pago.toUpperCase()),this.paymentMethodService.addPaymentMethod(this.paymentMethodForm.value).subscribe({complete:()=>{this.router.navigateByUrl("admin/accounting/paymentMethodsCatalog")},next:o=>{console.log(o),g().fire({icon:"success",title:"Forma de pago se guardo correctamente"})},error:o=>{g().fire({icon:"error",title:"Error al guardar la forma de pago",text:o.msg})}})):this.paymentMethodForm.markAllAsTouched()}return(){this.router.navigateByUrl("admin/accounting/paymentMethodsCatalog")}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.qu),t.Y36(h.F0),t.Y36(G))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-payment-method"]],decls:25,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"mx-4",3,"formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","nombre_forma_pago","required","",1,"uppercase"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t._uU(9,"Nueva Forma Pago"),t.qZA()(),t.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),t._uU(16,"Nombre Forma Pago"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,Be,2,1,"mat-error",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",5)(21,"button",15),t.NdJ("click",function(){return r.addProcedure()}),t._uU(22,"Guardar"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){return r.return()}),t._uU(24,"Cancel"),t.qZA()()()()()()()()()()),2&n&&(t.xp6(3),t.Q6J("title","Catalogo Forma de Pago")("items",t.DdM(5,Ie))("active_item","Nueva Forma de Pago"),t.xp6(8),t.Q6J("formGroup",r.paymentMethodForm),t.xp6(7),t.Q6J("ngIf",r.campoEsValido("nombre_forma_pago")))},dependencies:[b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,A.L,u.lW,_.KE,_.hX,_.TO,D.Nt],styles:[".uppercase[_ngcontent-%COMP%]{text-transform:uppercase}"]})}return e})()},{path:"editPaymentMethod",component:Me},{path:"closeProcedure",component:Gt},{path:"closeForm",component:ie},{path:"balance",component:Ae},{path:"**",component:Ht.J}];let Qe=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(Je),h.Bz]})}return e})();var Ye=m(5531),Se=m(1858),Ee=m(8715);let Oe=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[b.ez,Qe,l.u5,l.UX,Se.K,Ye.m,Ee.ChartsModule]})}return e})()},4374:(L,N,m)=>{m.d(N,{P:()=>a});var b=m(5619),h=m(2589),y=m(5879),x=m(9862);let a=(()=>{class s extends h.n{constructor(v){super(),this.httpClient=v,this.API_URL="assets/data/contacts.json",this.isTblLoading=!0,this.dataChange=new b.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllContactss(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:v=>{this.isTblLoading=!1,this.dataChange.next(v)},error:v=>{this.isTblLoading=!1,console.log(v.name+" "+v.message)}})}addContacts(v){this.dialogData=v}updateContacts(v){this.dialogData=v}deleteContacts(v){console.log(v)}static#t=this.\u0275fac=function(F){return new(F||s)(y.LFG(x.eN))};static#e=this.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac})}return s})()},2537:(L,N,m)=>{m.d(N,{U:()=>A});var b=m(9347),h=m(6223),y=m(6814);class x{constructor(C){this.id=C.id||this.getRandomID(),this.img=C.img||"assets/images/user/usrbig1.jpg",this.name=C.name||"",this.email=C.email||"",this.birthDate=(0,y.p6)(new Date,"yyyy-MM-dd","en")||"",this.address=C.address||"",this.mobile=C.mobile||"",this.note=C.note||""}getRandomID(){const C=()=>65536*(1+Math.random())|0;return C()+C()}}var a=m(5879),s=m(4374),Q=m(2296),v=m(5195),F=m(8034),g=m(4170),t=m(617),M=m(2032);function Y(u,C){1&u&&(a.TgZ(0,"mat-error"),a._uU(1," Name is required "),a.qZA())}function B(u,C){1&u&&(a.TgZ(0,"mat-error"),a._uU(1," Please enter a valid email address "),a.qZA())}function P(u,C){1&u&&(a.TgZ(0,"mat-error"),a._uU(1," Mobile is required "),a.qZA())}function w(u,C){1&u&&(a.TgZ(0,"mat-error"),a._uU(1," Please select date "),a.qZA())}function I(u,C){if(1&u){const f=a.EpF();a.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),a._UZ(4,"img",7),a.TgZ(5,"div",8),a._uU(6),a.qZA()()(),a.TgZ(7,"button",9),a.NdJ("click",function(){a.CHM(f);const Z=a.oxw();return a.KtG(Z.dialogRef.close())}),a.TgZ(8,"mat-icon"),a._uU(9,"close"),a.qZA()()(),a.TgZ(10,"div",10)(11,"form",11),a.NdJ("ngSubmit",function(){a.CHM(f);const Z=a.oxw();return a.KtG(Z.submit)}),a.TgZ(12,"div",12)(13,"div",13)(14,"mat-form-field",14)(15,"mat-label"),a._uU(16,"Name"),a.qZA(),a._UZ(17,"input",15),a.TgZ(18,"i",16),a._uU(19,"face"),a.qZA(),a.YNc(20,Y,2,0,"mat-error",17),a.qZA()(),a.TgZ(21,"div",13)(22,"mat-form-field",14)(23,"mat-label"),a._uU(24,"Email"),a.qZA(),a._UZ(25,"input",18),a.TgZ(26,"i",16),a._uU(27,"email"),a.qZA(),a.YNc(28,B,2,0,"mat-error",17),a.qZA()()(),a.TgZ(29,"div",12)(30,"div",13)(31,"mat-form-field",14)(32,"mat-label"),a._uU(33,"Mobile"),a.qZA(),a._UZ(34,"input",19),a.TgZ(35,"i",16),a._uU(36,"smartphone"),a.qZA(),a.YNc(37,P,2,0,"mat-error",17),a.qZA()(),a.TgZ(38,"div",13)(39,"mat-form-field",14)(40,"mat-label"),a._uU(41,"Birth date"),a.qZA(),a._UZ(42,"input",20)(43,"mat-datepicker-toggle",21)(44,"mat-datepicker",null,22),a.YNc(46,w,2,0,"mat-error",17),a.qZA()()(),a.TgZ(47,"div",12)(48,"div",23)(49,"mat-form-field",14)(50,"mat-label"),a._uU(51,"Address"),a.qZA(),a._UZ(52,"textarea",24),a.qZA()()(),a.TgZ(53,"div",12)(54,"div",23)(55,"mat-form-field",14)(56,"mat-label"),a._uU(57,"Note"),a.qZA(),a._UZ(58,"textarea",25),a.qZA()()(),a.TgZ(59,"div",12)(60,"div",23)(61,"div",26)(62,"button",27),a.NdJ("click",function(){a.CHM(f);const Z=a.oxw();return a.KtG(Z.confirmAdd())}),a._uU(63,"Save"),a.qZA(),a.TgZ(64,"button",28),a.NdJ("click",function(){a.CHM(f);const Z=a.oxw();return a.KtG(Z.onNoClick())}),a._uU(65,"Cancel"),a.qZA()()()()()()()}if(2&u){const f=a.MAs(45),d=a.oxw();let Z,q,J,R;a.xp6(4),a.Q6J("src",d.contacts.img,a.LSH),a.xp6(2),a.hij(" ",d.dialogTitle," "),a.xp6(5),a.Q6J("formGroup",d.contactsForm),a.xp6(9),a.Q6J("ngIf",null==d.contactsForm||null==(Z=d.contactsForm.get("name"))?null:Z.hasError("required")),a.xp6(8),a.Q6J("ngIf",(null==d.contactsForm||null==(q=d.contactsForm.get("email"))?null:q.hasError("required"))||(null==d.contactsForm||null==(q=d.contactsForm.get("email"))?null:q.touched)),a.xp6(9),a.Q6J("ngIf",null==d.contactsForm||null==(J=d.contactsForm.get("mobile"))?null:J.hasError("required")),a.xp6(5),a.Q6J("matDatepicker",f),a.xp6(1),a.Q6J("for",f),a.xp6(3),a.Q6J("ngIf",null==d.contactsForm||null==(R=d.contactsForm.get("birthDate"))?null:R.hasError("required")),a.xp6(16),a.Q6J("disabled",!(null!=d.contactsForm&&d.contactsForm.valid))("mat-dialog-close",1)}}function O(u,C){if(1&u){const f=a.EpF();a.TgZ(0,"div",29)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",30)(5,"div",31),a._UZ(6,"img",7),a.qZA(),a.TgZ(7,"div",32)(8,"div",33),a._uU(9),a.qZA(),a.TgZ(10,"div",34),a._uU(11,"Friends"),a.qZA()()()()(),a.TgZ(12,"button",9),a.NdJ("click",function(){a.CHM(f);const Z=a.oxw();return a.KtG(Z.dialogRef.close())}),a.TgZ(13,"mat-icon"),a._uU(14,"close"),a.qZA()()(),a.TgZ(15,"div",10)(16,"mat-card-content")(17,"div",35)(18,"i",36),a._uU(19,"email"),a.qZA(),a.TgZ(20,"div",37),a._uU(21),a.qZA()(),a.TgZ(22,"div",35)(23,"i",36),a._uU(24,"phonelink_ring"),a.qZA(),a.TgZ(25,"div",37),a._uU(26),a.qZA()(),a.TgZ(27,"div",35)(28,"i",36),a._uU(29,"cake"),a.qZA(),a.TgZ(30,"div",37),a._uU(31),a.ALo(32,"date"),a.qZA()(),a.TgZ(33,"div",35)(34,"i",36),a._uU(35,"location_on"),a.qZA(),a.TgZ(36,"div",37),a._uU(37),a.qZA()(),a.TgZ(38,"div",35)(39,"i",36),a._uU(40,"note"),a.qZA(),a.TgZ(41,"div",37),a._uU(42),a.qZA()()()()()}if(2&u){const f=a.oxw();a.xp6(6),a.Q6J("src",f.contacts.img,a.LSH),a.xp6(3),a.Oqu(f.contacts.name),a.xp6(12),a.hij(" ",f.contacts.email," "),a.xp6(5),a.hij(" ",f.contacts.mobile," "),a.xp6(5),a.hij(" ",a.xi3(32,7,f.contacts.birthDate,"MMMM d, yyyy")," "),a.xp6(6),a.hij(" ",f.contacts.address," "),a.xp6(5),a.hij(" ",f.contacts.note," ")}}let A=(()=>{class u{constructor(f,d,Z,q){this.dialogRef=f,this.data=d,this.contactsService=Z,this.fb=q,this.isDetails=!1,this.formControl=new h.p4("",[h.kI.required]),this.action=d.action,"edit"===this.action?(this.isDetails=!1,this.dialogTitle=d.contacts.name,this.contacts=d.contacts,this.contactsForm=this.createContactForm()):"details"===this.action?(this.contacts=d.contacts,this.isDetails=!0):(this.isDetails=!1,this.dialogTitle="New Contacts",this.contacts=new x({}),this.contactsForm=this.createContactForm())}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.contacts.id],img:[this.contacts.img],name:[this.contacts.name],email:[this.contacts.email,[h.kI.required,h.kI.email,h.kI.minLength(5)]],birthDate:[(0,y.p6)(this.contacts.birthDate,"yyyy-MM-dd","en"),[h.kI.required]],address:[this.contacts.address],mobile:[this.contacts.mobile],note:[this.contacts.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.contactsService.addContacts(this.contactsForm?.getRawValue())}static#t=this.\u0275fac=function(d){return new(d||u)(a.Y36(b.so),a.Y36(b.WI),a.Y36(s.P),a.Y36(h.QS))};static#e=this.\u0275cmp=a.Xpm({type:u,selectors:[["app-form"]],decls:3,vars:2,consts:[[1,"addContainer"],["class","contact-form",4,"ngIf"],["class","contact-details",4,"ngIf"],[1,"contact-form"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],["alt","avatar",3,"src"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","address"],["matInput","","formControlName","note"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"contact-details"],[1,"modal-about","contact-header"],[1,"contact-details-img"],[1,"contact-details-heading"],[1,"contact-details-name","mb-2"],[1,"badge","col-green"],[1,"contact-details-field"],[1,"material-icons-two-tone","color-icon"],[1,"contact-detail-info"]],template:function(d,Z){1&d&&(a.TgZ(0,"div",0),a.YNc(1,I,66,11,"div",1),a.YNc(2,O,43,10,"div",2),a.qZA()),2&d&&(a.xp6(1),a.Q6J("ngIf",!Z.isDetails),a.xp6(1),a.Q6J("ngIf",Z.isDetails))},dependencies:[y.O5,h._Y,h.Fj,h.wV,h.JJ,h.JL,h.Q7,h.sg,h.u,Q.lW,Q.RK,v.dn,F.Mq,F.hl,F.nW,b.ZT,b.xY,g.KE,g.hX,g.TO,g.R9,t.Hw,M.Nt,y.uU]})}return u})()}}]);