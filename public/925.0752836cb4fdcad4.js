"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[925],{2940:(D,h,n)=>{n.r(h),n.d(h,{ReportsRoutingModule:()=>Y});var i=n(1896),_=n(931),m=n(6223),c=n(5313),t=n(5879),b=n(5649),r=n(1744),u=n(6814),v=n(2296),d=n(8034),g=n(4170),A=n(617),T=n(2032);function R(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar una fecha de inicio"))}function C(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Debe seleccionar una fecha fin"))}function B(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Gasto"),t.qZA())}function y(e,l){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",33),t.qZA()),2&e&&(t.Q6J("formGroup",l.$implicit),t.xp6(1),t.Q6J("readonly",!0))}function I(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Importe"),t.qZA())}function x(e,l){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",34),t.qZA()),2&e&&t.Q6J("formGroup",l.$implicit)}function L(e,l){1&e&&t._UZ(0,"tr",35)}function E(e,l){1&e&&t._UZ(0,"tr",36)}function O(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Ingreso"),t.qZA())}function U(e,l){1&e&&(t.TgZ(0,"td",32),t._UZ(1,"input",39),t.qZA()),2&e&&(t.Q6J("formGroup",l.$implicit),t.xp6(1),t.Q6J("readonly",!0))}function F(e,l){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Importe"),t.qZA())}function N(e,l){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=l.$implicit;t.Q6J("formGroup",o),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.get("importe").value)," ")}}function M(e,l){1&e&&t._UZ(0,"tr",35)}function w(e,l){1&e&&t._UZ(0,"tr",36)}function Q(e,l){if(1&e&&(t.TgZ(0,"div",16)(1,"div",18)(2,"form",19),t.ynx(3,37),t.TgZ(4,"table",21,22),t.ynx(6,38),t.YNc(7,O,2,0,"th",24),t.YNc(8,U,2,2,"td",25),t.BQk(),t.ynx(9,26),t.YNc(10,F,2,0,"th",24),t.YNc(11,N,3,4,"td",25),t.BQk(),t.YNc(12,M,1,0,"tr",27),t.YNc(13,w,1,0,"tr",28),t.qZA(),t.BQk(),t.qZA()()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.proceduresForm),t.xp6(2),t.Q6J("dataSource",o.dataSource2),t.xp6(8),t.Q6J("matHeaderRowDef",o.displayedColumns2),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns2)}}function J(e,l){if(1&e&&(t.TgZ(0,"div",16)(1,"div",40)(2,"table")(3,"tr")(4,"th"),t._uU(5,"Gastos"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"tr")(10,"th"),t._uU(11,"Ingresos"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"currency"),t.qZA()(),t.TgZ(15,"tr")(16,"th"),t._uU(17,"Balance"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"currency"),t.qZA()()()()()),2&e){const o=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,3,o.totalGastos)),t.xp6(6),t.Oqu(t.lcZ(14,5,o.totalIngresos)),t.xp6(6),t.Oqu(t.lcZ(20,7,o.balance))}}function P(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.calculate())}),t._uU(1,"Calcular Balance"),t.qZA()}}const $=[{gasto:"Renta Todo Incluido 5to Piso*",importe:0,isDivisible:!0},{gasto:"Mantenimiento 5to Piso 901*",importe:0,isDivisible:!0},{gasto:"Poliza fumigaci\xf3n*",importe:82680,isDivisible:!0},{gasto:"Seguro inmueble*",importe:0,isDivisible:!0},{gasto:"P\xf3liza RPBI*",importe:0,isDivisible:!0},{gasto:"Papeleria",importe:1500,isDivisible:!1},{gasto:"Lavanderia",importe:5100,isDivisible:!1},{gasto:"INFRA",importe:4e3,isDivisible:!1},{gasto:"Luz",importe:12500,isDivisible:!1},{gasto:"Medicamentos",importe:42464.6,isDivisible:!1},{gasto:"Insumos (mercancia + gasto gral)",importe:96024.73,isDivisible:!1},{gasto:"Agua, Caf\xe9, galletas, refrescos",importe:1500,isDivisible:!1},{gasto:"MKT Cristina*",importe:3500,isDivisible:!0},{gasto:"Publicidad Pagada*",importe:14e3,isDivisible:!0},{gasto:"Arrendamiento Equipos*",importe:11624.91,isDivisible:!0},{gasto:"Sueldos (incluye administraci\xf3n)*",importe:149221.1,isDivisible:!0},{gasto:"IMSS, RCV, INFONAVIT, Imp nomina*",importe:35294.71,isDivisible:!0},{gasto:"Honorarios anestesia",importe:0,isDivisible:!1},{gasto:"Honorarios enfermeria extra",importe:0,isDivisible:!1},{gasto:"ISR",importe:0,isDivisible:!1},{gasto:"IVA",importe:0,isDivisible:!1}],q=[{path:"buildingLogReport",component:(()=>{class e{constructor(o,a,s,p){this.fb=o,this._formBuilder=a,this.cliqProceduresService=s,this.buildingLogService=p,this.totalGastos=0,this.totalIngresos=0,this.balance=0,this.showIngresos=!1,this.showBalance=!1,this.dataSource=new c.by,this.dataSource2=new c.by,this.daysCount=0,this.form=this.fb.group({start:["",m.kI.required],end:["",m.kI.required]}),this.displayedColumns=["gasto","importe"],this.displayedColumns2=["ingreso","importe"],this.myFilter=f=>{const Z=(f||new Date).getDay();return 0!==Z&&7!==Z}}ngOnInit(){this.VOForm=this._formBuilder.group({VORows:this._formBuilder.array([])}),this.proceduresForm=this._formBuilder.group({operatingRoomsRows:this._formBuilder.array([])}),this.VOForm=this.fb.group({VORows:this.fb.array($.map(o=>this.fb.group({gasto:new m.NI(o.gasto),importe:new m.NI(o.importe),isDivisible:new m.NI(o.isDivisible)})))}),console.log(this.VOForm),this.dataSource=new c.by(this.VOForm.get("VORows").controls)}calculate(){console.log(this.VOForm.value),console.log(this.proceduresForm.value),this.totalGastos=this.VOForm.value.VORows.reduce((o,a)=>(console.log(a),a.isDivisible?o+parseFloat(a.importe)/30*this.daysCount:o+parseFloat(a.importe)),0),this.totalIngresos=this.proceduresForm.value.operatingRoomsRows.reduce((o,a)=>o+parseFloat(a.importe),0),console.log(this.totalGastos),this.balance=this.totalIngresos-this.totalGastos,this.showBalance=!0}calculateDays(o,a){let s=new Date(o);return(new Date(a)-s)/864e5+1}search(){let o=this.form.value.start,a=this.form.value.end,s=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),p=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();console.log(s),console.log(p),this.buildingLogService.getBuildingLogReport(s,p).subscribe(f=>{console.log(f)})}campoEsValido(o){return this.form.controls[o].errors&&this.form.controls[o].touched}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.qu),t.Y36(m.qu),t.Y36(b.J),t.Y36(r.M))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-building-log-report"]],decls:48,vars:16,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"mt-3"],[3,"formGroup"],["appearance","outline",1,"col-3","me-2"],["matInput","","formControlName","start",3,"matDatepickerFilter","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["appearance","outline",1,"col-3"],["matInput","","formControlName","end",3,"matDatepickerFilter","matDatepicker"],["picker2",""],["mat-raised-button","","color","primary",1,"ms-4",3,"click"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","col-xs-12"],[1,"card"],[2,"background-color","#144464","color","white","margin-bottom","0px"],[1,"table-responsive"],["autocomplete","off",3,"formGroup"],["formArrayName","VORows"],["mat-table","",3,"dataSource"],["table",""],["matColumnDef","gasto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","importe"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","card",4,"ngIf"],["button","","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],["matInput","","type","text","formControlName","gasto",2,"width","230px","border","none",3,"readonly"],["matInput","","type","number","formControlName","importe",2,"width","90px","border","none"],["mat-header-row",""],["mat-row",""],["formArrayName","operatingRoomsRows"],["matColumnDef","ingreso"],["matInput","","type","text","formControlName","ingreso",2,"width","230px","border","none",3,"readonly"],[1,"materialTableHeader"],["button","","mat-raised-button","","color","primary",3,"click"]],template:function(a,s){if(1&a&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"form",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7,"Fecha Inicio"),t.qZA(),t._UZ(8,"input",6)(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,8),t.YNc(12,R,2,1,"mat-error",9),t.qZA(),t.TgZ(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Fecha Fin"),t.qZA(),t._UZ(16,"input",11)(17,"mat-datepicker-toggle",7)(18,"mat-datepicker",null,12),t.YNc(20,C,2,1,"mat-error",9),t.qZA(),t.TgZ(21,"button",13),t.NdJ("click",function(){return s.search()}),t.TgZ(22,"mat-icon"),t._uU(23,"search"),t.qZA(),t._uU(24," Buscar "),t.qZA()()(),t.TgZ(25,"div",14)(26,"div",15)(27,"div",16)(28,"div")(29,"h2",17),t._uU(30,"Procedimientos CLIQ S.A. de C.V."),t.qZA()(),t.TgZ(31,"div",18)(32,"form",19),t.ynx(33,20),t.TgZ(34,"table",21,22),t.ynx(36,23),t.YNc(37,B,2,0,"th",24),t.YNc(38,y,2,2,"td",25),t.BQk(),t.ynx(39,26),t.YNc(40,I,2,0,"th",24),t.YNc(41,x,2,1,"td",25),t.BQk(),t.YNc(42,L,1,0,"tr",27),t.YNc(43,E,1,0,"tr",28),t.qZA(),t.BQk(),t.qZA()()()(),t.TgZ(44,"div",15),t.YNc(45,Q,14,4,"div",29),t.YNc(46,J,21,9,"div",29),t.YNc(47,P,2,0,"button",30),t.qZA()()()()),2&a){const p=t.MAs(11),f=t.MAs(19);t.xp6(4),t.Q6J("formGroup",s.form),t.xp6(4),t.Q6J("matDatepickerFilter",s.myFilter)("matDatepicker",p),t.xp6(1),t.Q6J("for",p),t.xp6(3),t.Q6J("ngIf",s.campoEsValido("start")),t.xp6(4),t.Q6J("matDatepickerFilter",s.myFilter)("matDatepicker",f),t.xp6(1),t.Q6J("for",f),t.xp6(3),t.Q6J("ngIf",s.campoEsValido("end")),t.xp6(12),t.Q6J("formGroup",s.VOForm),t.xp6(2),t.Q6J("dataSource",s.dataSource),t.xp6(8),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(2),t.Q6J("ngIf",s.showIngresos),t.xp6(1),t.Q6J("ngIf",s.showBalance),t.xp6(1),t.Q6J("ngIf",s.showIngresos)}},dependencies:[u.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.sg,m.u,m.CE,v.lW,d.Mq,d.hl,d.nW,g.KE,g.hX,g.TO,g.R9,A.Hw,T.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,u.H9]})}return e})()},{path:"**",component:_.M}];let Y=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(q),i.Bz]})}return e})()},9741:(D,h,n)=>{n.d(h,{$:()=>c});var i=n(553),_=n(5879),m=n(9862);let c=(()=>{class t{constructor(r){this.http=r,this.isTblLoading=!0,this.urlEndpoint=i.N.patientsEndpoints,this.urlApi=i.N.api,this.urlMedicalRecordEndpoint=i.N.medicalRecordEndpoint}getAllPatients(r){return this.http.get(`${this.urlApi}${this.urlEndpoint}${r}`)}getAllPatientsAdmin(){return this.http.get(`${this.urlApi}${this.urlEndpoint}allPatientsAdm/`)}getPatientById(r){return console.log(r),this.http.get(`${this.urlApi}${this.urlEndpoint}patientById/${r}`)}addPatient(r){return this.http.post(`${this.urlApi}pacientes`,r)}editPatient(r,u){return this.http.put(`${this.urlApi}${this.urlEndpoint}${r}`,u)}disablePatient(r){return this.http.delete(`${this.urlApi}${this.urlEndpoint}${r}`)}getMedicalRecordById(r){return this.http.get(`${this.urlApi}${this.urlMedicalRecordEndpoint}${r}`)}saveMedicalRecord(r){return this.http.post(`${this.urlApi}${this.urlMedicalRecordEndpoint}`,r)}updateMedicalRecord(r,u){return this.http.put(`${this.urlApi}${this.urlMedicalRecordEndpoint}${u}`,r)}static#t=this.\u0275fac=function(u){return new(u||t)(_.LFG(m.eN))};static#e=this.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},4414:(D,h,n)=>{n.d(h,{L:()=>b});var i=n(5879),_=n(6814),m=n(1896),c=n(9101);function t(r,u){if(1&r&&(i.TgZ(0,"li",9),i._uU(1),i.qZA()),2&r){const v=u.$implicit;i.xp6(1),i.Oqu(v)}}let b=(()=>{class r{constructor(){}static#t=this.\u0275fac=function(d){return new(d||r)};static#e=this.\u0275cmp=i.Xpm({type:r,selectors:[["app-breadcrumb"]],inputs:{title:"title",items:"items",active_item:"active_item"},decls:12,vars:4,consts:[[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[3,"routerLink"],["name","home",1,"breadcrumb-icon"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"]],template:function(d,g){1&d&&(i.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"h4",3),i._uU(5),i.qZA()(),i.TgZ(6,"li",4)(7,"a",5),i._UZ(8,"i-feather",6),i.qZA()(),i.YNc(9,t,2,1,"li",7),i.TgZ(10,"li",8),i._uU(11),i.qZA()()()()),2&d&&(i.xp6(5),i.Oqu(g.title),i.xp6(2),i.Q6J("routerLink","/admin/dashboard/main"),i.xp6(2),i.Q6J("ngForOf",g.items),i.xp6(2),i.Oqu(g.active_item))},dependencies:[_.sg,m.rH,c.u]})}return r})()}}]);