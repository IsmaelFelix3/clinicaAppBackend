"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[592],{7551:(P,p,n)=>{n.d(p,{O:()=>u});var d=n(5619),s=n(9862),c=n(2589),a=n(553),t=n(5879);let u=(()=>{class o extends c.n{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/doc-appointments.json",this.urlEndpoint=a.N.appoinmentsEndpoints,this.urlApi=a.N.api,this.isTblLoading=!0,this.dataChange=new d.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAppointmentss(e){return console.log("first"),this.httpClient.get(`${this.urlApi}${this.urlEndpoint}${e}`)}getAppoinmentsByMonth(e){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}appoinmentsByMonth/${e}`)}getAllAppoinmentsAdmin(){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}citasAdmin/`)}getAppointmentById(e){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}getAppoinmentById/${e}`)}getTakenSlots(e){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}takenSlots/${e}`)}addAppointments(e){this.dialogData=e}getLastAppoinment(e,r){const h=(new s.LE).set("idPaciente",e).set("idMedico",r);return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}lastAppoinment/`,{params:h})}getAppointmentsHistory(e,r){const h=(new s.LE).set("idPaciente",e).set("idMedico",r);return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}appointmentsHistory/`,{params:h})}addAppoinment(e){return this.httpClient.post(`${this.urlApi}${this.urlEndpoint}`,e)}updateAppointment(e,r){return this.dialogData=e,console.log(this.dialogData),this.httpClient.put(`${this.urlApi}${this.urlEndpoint}${r}`,this.dialogData)}updateAppointmentDate(e,r){return this.httpClient.put(`${this.urlApi}${this.urlEndpoint}${r}`,e)}deleteAppointments(e){console.log(e)}postAppoinmentsByDateAndMedic(e,r){return this.httpClient.post(`${this.urlApi}${this.urlEndpoint}appoinmentsByMedicAndDate/`,{idMedico:e,fecha:r})}getAppointmentsByDate(e){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}appoinmentsByDate/${e}`)}getAppoinmentsByDateAndType(e){return this.httpClient.post(`${this.urlApi}${this.urlEndpoint}appoinmentsByDateAndType/`,e)}getEvolutionNotes(){return this.httpClient.get(`${this.urlApi}${this.urlEndpoint}appoinmentsByDateAndType/`)}static#t=this.\u0275fac=function(r){return new(r||o)(t.LFG(s.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})()},931:(P,p,n)=>{n.d(p,{M:()=>e});var d=n(8656),s=n(3848),c=n(9741),a=n(7551),t=n(5879),u=n(5649),o=n(4414);const i=function(){return[]};let e=(()=>{class r{constructor(m,_,l,E,D){this.doctorService=m,this.authService=_,this.patientService=l,this.appointmentsService=E,this.cliqProceduresService=D,this.numPacientes=0,this.numCitasDia=0,this.numCitasMes=0,this.numProcedimientosDia=0,this.numProcedimientosMes=0,this.idMedico=0}ngOnInit(){const m=JSON.parse(localStorage.getItem("currentUser"));console.log(m);const _=m.correo,l=new Date,E=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0);this.doctorService.getDoctorByEmail(_).subscribe(D=>{this.idMedico=D.medico.id_medico,this.patientService.getAllPatients(this.idMedico).subscribe(g=>{this.numPacientes=g.numPacientes}),this.appointmentsService.getAllAppointmentss(this.idMedico).subscribe(g=>{this.numCitasDia=g.numCitas}),this.appointmentsService.getAppoinmentsByMonth(this.idMedico).subscribe(g=>{this.numCitasMes=g.citas}),this.cliqProceduresService.getProceduresCalendarDoctor(E.toISOString(),this.idMedico).subscribe(g=>{this.numProcedimientosDia=g.procedimientos.rows.length}),this.cliqProceduresService.getProceduresMonthDoctor(this.idMedico).subscribe(g=>{console.log(g),this.numProcedimientosMes=g.procedimientos})})}static#t=this.\u0275fac=function(_){return new(_||r)(t.Y36(d.e),t.Y36(s.e),t.Y36(c.$),t.Y36(a.O),t.Y36(u.J))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dashboard"]],features:[t._Bn([d.e,s.e,c.$,a.O])],decls:58,vars:9,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"card"],[1,"header"],[1,"body"],[1,"col-lg-4","col-sm-6"],[1,"info-box7","l-bg-card2","order-info-box7"],[1,"info-box7-block"],[1,"m-b-15"],[1,"text-end"],[1,"fas","fa-user-injured","float-start"],[1,"font-30"],[1,"info-box7","l-bg-card1","order-info-box7"],[1,"far","fa-calendar-check","float-start"],[1,"fas","fa-cut","float-start"],[1,"col-lg-6","col-sm-6"],[1,"info-box7","l-bg-card3","order-info-box7"],[1,"fas","fa-star-of-life","float-start"]],template:function(_,l){1&_&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),t._uU(8," Bienvenido a SMARQLINIC Doctor "),t.qZA()(),t.TgZ(9,"div",7)(10,"div",4)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h5",11),t._uU(15,"Total de pacientes"),t.qZA(),t.TgZ(16,"h2",12),t._UZ(17,"i",13),t.TgZ(18,"span",14),t._uU(19),t.qZA()()()()(),t.TgZ(20,"div",8)(21,"div",15)(22,"div",10)(23,"h5",11),t._uU(24,"Citas para hoy"),t.qZA(),t.TgZ(25,"h2",12),t._UZ(26,"i",16),t.TgZ(27,"span",14),t._uU(28),t.qZA()()()()(),t.TgZ(29,"div",8)(30,"div",15)(31,"div",10)(32,"h5",11),t._uU(33,"Citas del mes"),t.qZA(),t.TgZ(34,"h2",12),t._UZ(35,"i",17),t.TgZ(36,"span",14),t._uU(37),t.qZA()()()()()(),t.TgZ(38,"div",4)(39,"div",18)(40,"div",19)(41,"div",10)(42,"h5",11),t._uU(43,"PROCEDIMIENTOS CLIQ de hoy"),t.qZA(),t.TgZ(44,"h2",12),t._UZ(45,"i",20),t.TgZ(46,"span",14),t._uU(47),t.qZA()()()()(),t.TgZ(48,"div",18)(49,"div",19)(50,"div",10)(51,"h5",11),t._uU(52,"PROCEDIMIENTOS CLIQ para el mes"),t.qZA(),t.TgZ(53,"h2",12),t._UZ(54,"i",20),t.TgZ(55,"span",14),t._uU(56),t.qZA()()()()()()()()(),t._UZ(57,"div",4),t.qZA()()),2&_&&(t.xp6(3),t.Q6J("title","Tablero")("items",t.DdM(8,i))("active_item","Tablero Doctor"),t.xp6(16),t.Oqu(l.numPacientes),t.xp6(9),t.Oqu(l.numCitasDia),t.xp6(9),t.Oqu(l.numCitasMes),t.xp6(10),t.hij(" ",l.numProcedimientosDia," "),t.xp6(9),t.hij(" ",l.numProcedimientosMes," "))},dependencies:[o.L]})}return r})()},5649:(P,p,n)=>{n.d(p,{J:()=>t});var d=n(553),s=n(7398),c=n(5879),a=n(9862);let t=(()=>{class u{constructor(i){this.http=i,this.baseURL=d.N.api,this.apiURL=d.N.cliqProceduresEndpoint,this.auxEvents=[]}getProcedure(i){return this.http.get(`${this.baseURL}${this.apiURL}/getProcedure/${i}`)}getCurrentProceduresDoctor(i){return this.http.get(`${this.baseURL}${this.apiURL}/getCurrentProceduresDoctor/${i}`)}getProceduresByDay(i,e){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresByDay/${i}&${e}`)}getProceduresCalendarDoctor(i,e){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresCalendarDoctor/${i}&${e}`)}getProceduresCalendarAdmin(i,e){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresCalendarAdmin/${i}&${e}`)}getProceduresMonthDoctor(i){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresMonthDoctor/${i}`)}scheduleProcedure(i){return this.http.post(`${this.baseURL}${this.apiURL}/addProcedure`,i)}editProcedure(i,e){return this.http.put(`${this.baseURL}${this.apiURL}/editProcedure/${e}`,i)}getAllProceduresDay(i,e){return this.http.get("Admin"==i?`${this.baseURL}${this.apiURL}/getProcedures/${e}`:`${this.baseURL}${this.apiURL}/getProcedures/null`)}deleteProcedure(i){return this.http.delete(`${this.baseURL}${this.apiURL}/deleteProcedure/${i}`)}getAllProceduresCurrentDay(){return this.http.get(`${this.baseURL}${this.apiURL}/getAllProceduresCurrentDay/`)}getProceduresDoctorFC(i){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresDoctorFC/${i}`).pipe((0,s.U)(e=>(console.log(e),e.procedimientos.map(h=>{const m=6e4*(new Date).getTimezoneOffset(),_=new Date(new Date(h.fecha_procedimiento_inicio).getTime()+m),l=new Date(new Date(h.fecha_procedimiento_fin).getTime()+m);return{idBooking:h.id_reserva,title:h.Medico.apellidos+" "+h.Quirofano.nombre_quirofano,start:_,end:l,className:h.Quirofano.color,groupId:"Procedimientos",details:`${h.detalles}`}}))))}getProceduresMonth(){return this.http.get(`${this.baseURL}${this.apiURL}/getProceduresMonth/`).pipe((0,s.U)(i=>(console.log(i),i.procedimientos.map(r=>({idBooking:r.id_reserva,title:r.Medico.apellidos+" "+r.Quirofano.nombre_quirofano,start:new Date(r.fecha_procedimiento_inicio),end:new Date(r.fecha_procedimiento_fin),className:r.Quirofano.color,groupId:"Procedimientos",details:`${r.detalles}`})))))}getAccountingProcedures(i){return this.http.get(`${this.baseURL}${this.apiURL}/getAccountingProcedures/${i}`)}postAccountingProcedure(i){return this.http.post(`${this.baseURL}${this.apiURL}/addAccountingProcedure/`,i)}postMassCreationProcedures(i){return this.http.post(`${this.baseURL}${this.apiURL}/postProceduresMasive/`,i)}getPIByOR(i,e){return this.http.get(`${this.baseURL}${this.apiURL}/getPIByOR/${i}&${e}`)}static#t=this.\u0275fac=function(e){return new(e||u)(c.LFG(a.eN))};static#e=this.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},2670:(P,p,n)=>{n.d(p,{e:()=>u});var d=n(553),s=n(5879),c=n(9862);const a=d.N.api,t=d.N.motivoConsultaEndpoint;let u=(()=>{class o{constructor(e){this.http=e}getMotivoConsulta(){return this.http.get(`${a}${t}getMotivoConsulta/`)}static#t=this.\u0275fac=function(r){return new(r||o)(s.LFG(c.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},7518:(P,p,n)=>{n.d(p,{Z:()=>u});var d=n(553),s=n(5879),c=n(9862);const a=d.N.api,t=d.N.procedureCatalogEndpoint;let u=(()=>{class o{constructor(e){this.http=e}getAllPatients(e){return this.http.get(`${a}${t}getProceduresCatalogByOperatingRoom/${e}`)}getAllProceduresDetails(){return this.http.get(`${a}${t}getProceduresCatalog/`)}getProceduresByOperatingRoom(e){return this.http.get(`${a}${t}getProceduresCatalogByOperatingRoom/${e}`)}getProcedureConfigurationDetails(e){return this.http.get(`${a}${t}getProcedureConfigurationDetails/${e}`)}updateProcedureConfigurationDetails(e,r){return this.http.put(`${a}${t}updateProcedureConfigurationDetails/${r}`,e)}addProcedureConfigurationDetails(e){return this.http.post(`${a}${t}postProceduresCatalog/`,e)}deleteProcedureConfigurationDetails(e){return this.http.delete(`${a}${t}${e}`)}static#t=this.\u0275fac=function(r){return new(r||o)(s.LFG(c.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},3517:(P,p,n)=>{n.d(p,{I:()=>u});var d=n(553),s=n(5879),c=n(9862);const a=d.N.api,t=d.N.quirofanosEndpoint;let u=(()=>{class o{constructor(e){this.http=e}getQuirofanos(){return this.http.get(`${a}${t}getOperatingRooms`)}getHorarioQuirofano(e){return this.http.get(`${a}${t}getSchedulesOperatingRooms/${e}`)}static#t=this.\u0275fac=function(r){return new(r||o)(s.LFG(c.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},1421:(P,p,n)=>{n.d(p,{n:()=>u});var d=n(553),s=n(5879),c=n(9862);const a=d.N.api;let u=(()=>{class o{constructor(e){this.http=e}getAllSchedule(){return this.http.get(`${a}horarios/`)}static#t=this.\u0275fac=function(r){return new(r||o)(s.LFG(c.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},1693:(P,p,n)=>{n.d(p,{Y:()=>a});var d=n(6223),s=n(5879),c=n(2296);let a=(()=>{class t{emitFiles(o){const i=o&&o.item(0);this.onChange(i),this.file=i}constructor(o){this.host=o,this.file=null}writeValue(o){this.host.nativeElement.value="",this.file=null}registerOnChange(o){this.onChange=o}registerOnTouched(o){}static#t=this.\u0275fac=function(i){return new(i||t)(s.Y36(s.SBq))};static#e=this.\u0275cmp=s.Xpm({type:t,selectors:[["app-file-upload"]],hostBindings:function(i,e){1&i&&s.NdJ("change",function(h){return e.emitFiles(h.target.files)})},features:[s._Bn([{provide:d.JU,useExisting:t,multi:!0}])],decls:6,vars:1,consts:[[1,"file-drop-area"],["mat-raised-button","","color","primary"],["type","file",1,"file-input"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0)(1,"button",1),s._uU(2,"Choose file"),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s._UZ(5,"input",2),s.qZA()),2&i&&(s.xp6(4),s.Oqu(e.file?e.file.name:" or drag and drop file here"))},dependencies:[c.lW],styles:[".file-drop-area[_ngcontent-%COMP%]{border:1px dashed #7c7db3;border-radius:3px;position:relative;max-width:100%;margin-top:5px;padding:26px 20px 30px;transition:.2s}.file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-msg[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;font-size:12px;font-weight:500;color:#5b5bff}"]})}return t})()}}]);