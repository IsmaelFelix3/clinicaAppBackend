"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[888],{6888:($,u,o)=>{o.r(u),o.d(u,{AccessLogModule:()=>K});var g=o(6814),h=o(6223),C=o(5531),B=o(1858),m=o(1896),T=o(8337),p=o(1476),d=o(3566),r=o(5313),Z=o(2589),x=o(2438),A=o(3519),f=o.n(A),t=o(5879),y=o(9862),D=o(9347),L=o(2182),S=o(2939),b=o(2296),U=o(617),N=o(3680),k=o(2596),w=o(9177),_=o(4414);const R=["filter"];function Y(e,c){1&e&&t._UZ(0,"mat-header-cell",40),2&e&&t.Q6J("ngClass","tbl-col-width-per-6")}function Q(e,c){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Id"),t.qZA())}function E(e,c){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Oqu(n.id_banco)}}function J(e,c){1&e&&(t.TgZ(0,"mat-header-cell",41),t._uU(1,"Banco"),t.qZA())}function H(e,c){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",42),t._uU(2,"Vehicle No:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=c.$implicit;t.xp6(3),t.hij(" ",n.nombre_banco," ")}}function z(e,c){1&e&&(t.TgZ(0,"mat-header-cell",43),t._uU(1,"Acciones"),t.qZA())}function M(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell",43)(1,"button",44),t.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const l=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.editCall(l))}),t._UZ(2,"app-feather-icons",45),t.qZA(),t.TgZ(3,"button",46),t.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const l=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.deleteItem(l))}),t._UZ(4,"app-feather-icons",45),t.qZA()()}2&e&&(t.xp6(2),t.Tol("tbl-fav-edit"),t.Q6J("icon","edit"),t.xp6(2),t.Tol("tbl-fav-delete"),t.Q6J("icon","trash-2"))}function G(e,c){1&e&&t._UZ(0,"mat-header-row")}function O(e,c){1&e&&t._UZ(0,"mat-row",47),2&e&&t.Udp("cursor","pointer")}const I=function(){return["Ambulance"]},F=function(){return[5,10,25,100]};let v=(()=>{class e extends Z.n{constructor(n,a,i,l,s){super(),this.httpClient=n,this.dialog=a,this.banksServcie=i,this.snackBar=l,this.router=s,this.displayedColumns=["id_banco","nombre_banco","actions"],this.dataSource=new r.by,this.banks=[],this.selection=new T.Ov(!0,[]),this.dataLength=0}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let n;n="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.router.navigateByUrl("admin/accounting/addBank")}editCall(n){this.router.navigateByUrl("admin/accounting/editBank",{state:{id:n.id_banco}})}deleteItem(n){this.id=n.id_banco,console.log(n),f().fire({title:"\xbfDesea eliminar este registro?",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar"}).then(a=>{a.isConfirmed&&this.banksServcie.deleteBank(this.id).subscribe({next:i=>{this.showNotification("snackbar-danger","Registro Eliminado Exitosamente...!!!","top","end")},complete:()=>{this.refresh()},error:i=>{f().fire({icon:"error",title:"Error al eliminar el registro",text:i.msg}),this.loadData()}})})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}loadData(){this.banksServcie.getBanks().subscribe({complete:()=>{},next:n=>{this.banks=n.bancos.rows,this.dataSource=new r.by(this.banks),this.dataSource.paginator=this.paginator,this.dataLength=this.banks.length},error:n=>{}}),this.subs.sink=(0,x.R)(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}showNotification(n,a,i,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:i,horizontalPosition:l,panelClass:n})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(y.eN),t.Y36(D.uw),t.Y36(L.y),t.Y36(S.ux),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-building-log"]],viewQuery:function(a,i){if(1&a&&(t.Gf(p.NW,7),t.Gf(d.YE,7),t.Gf(R,7)),2&a){let l;t.iGM(l=t.CRH())&&(i.paginator=l.first),t.iGM(l=t.CRH())&&(i.sort=l.first),t.iGM(l=t.CRH())&&(i.filter=l.first)}},features:[t.qOj],decls:50,vars:12,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Buscar","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","Agregar",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],["matColumnDef","id_banco"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombre_banco"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],["mat-sort-header",""],[1,"mobile-label"],[1,"pr-0"],["matTooltip","Editar","mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matTooltip","Eliminar","mat-icon-button","",1,"tbl-action-btn",3,"click"],["matRipple",""]],template:function(a,i){1&a&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),t._uU(12,"Bitacora"),t.qZA()(),t.TgZ(13,"li",11)(14,"label",12)(15,"i",13),t._uU(16,"search"),t.qZA()(),t._UZ(17,"input",14,15),t.qZA()()(),t.TgZ(19,"div",16)(20,"ul",17)(21,"li",18)(22,"div",19)(23,"button",20),t.NdJ("click",function(){return i.addNew()}),t.TgZ(24,"mat-icon",21),t._uU(25,"add"),t.qZA()()()(),t.TgZ(26,"li",18)(27,"div",22)(28,"button",20),t.NdJ("click",function(){return i.refresh()}),t.TgZ(29,"mat-icon",21),t._uU(30,"refresh"),t.qZA()()()()()()(),t.TgZ(31,"div",23)(32,"div",24)(33,"mat-table",25,26),t.ynx(35,27),t.YNc(36,Y,1,1,"mat-header-cell",28),t.BQk(),t.ynx(37,29),t.YNc(38,Q,2,0,"mat-header-cell",30),t.YNc(39,E,2,1,"mat-cell",31),t.BQk(),t.ynx(40,32),t.YNc(41,J,2,0,"mat-header-cell",30),t.YNc(42,H,4,1,"mat-cell",31),t.BQk(),t.ynx(43,33),t.YNc(44,z,2,0,"mat-header-cell",34),t.YNc(45,M,5,6,"mat-cell",35),t.BQk(),t.YNc(46,G,1,0,"mat-header-row",36),t.YNc(47,O,1,2,"mat-row",37),t.qZA(),t._UZ(48,"mat-paginator",38,39),t.qZA()()()()()()()),2&a&&(t.xp6(3),t.Q6J("title","Catalogo Bancos")("items",t.DdM(10,I))("active_item","Bancos"),t.xp6(30),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.DdM(11,F)))},dependencies:[g.mk,b.RK,b.nh,U.Hw,p.NW,N.wG,d.YE,d.nU,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,k.gM,w.A,_.L]})}return e})();const j=[{path:"buildingLog",component:v},{path:"**",component:v}];let P=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(j),m.Bz]})}return e})(),K=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[g.ez,C.m,h.u5,h.UX,B.K,P]})}return e})()}}]);