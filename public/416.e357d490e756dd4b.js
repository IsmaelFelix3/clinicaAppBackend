"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[416],{1416:(wt,I,c)=>{c.r(I),c.d(I,{CliqProceduresModule:()=>yt});var _=c(6814),l=c(6223),E=c(121),C=c(1896),L=c(8337),R=c(7988),P=c(1476),g=c(3566),s=c(5313),y=c(2537),j=c(3519),f=c.n(j),e=c(5879),H=c(9347),U=c(5649),w=c(8319),S=c(8656),D=c(2296),J=c(5940),x=c(3680),$=c(2596),G=c(9177),T=c(4414),N=c(4897);const V=["filter"];function z(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Id "),e.qZA())}function X(t,r){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.xp6(1),e.Oqu(o.id_reserva)}}function K(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Quirofano "),e.qZA())}function W(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Quirofano:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Quirofano.nombre_quirofano," ")}}function ee(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Doctor "),e.qZA())}function te(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Doctor:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Medico.nombre+" "+o.Medico.apellidos," ")}}function oe(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Paciente "),e.qZA())}function ie(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Paciente:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Paciente.nombre+" "+o.Paciente.apellidos," ")}}function ae(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Procedimiento "),e.qZA())}function re(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Procedimiento:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Catalogo_Procedimiento.nombre_procedimiento," ")}}function ne(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Estatus "),e.qZA())}function ce(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Estatus:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.estatus," ")}}function le(t,r){1&t&&(e.TgZ(0,"mat-header-cell",36),e._uU(1,"Fecha y Hora "),e.qZA())}function se(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",37),e._uU(2,"Date & Time:"),e.qZA(),e._uU(3),e.ALo(4,"CustomDateTablePipe"),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,1,o.fecha_procedimiento_inicio)," ")}}function de(t,r){1&t&&(e.TgZ(0,"mat-header-cell",38),e._uU(1,"Acciones"),e.qZA())}function me(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"mat-cell",38)(1,"button",39),e.NdJ("click",function(){const n=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d.admission(n))}),e._UZ(2,"app-feather-icons",40),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("matTooltip","Admisi\xf3n"),e.xp6(1),e.Tol("tbl-fav-edit"),e.Q6J("icon","user"))}function ue(t,r){1&t&&e._UZ(0,"mat-header-row")}function pe(t,r){1&t&&e._UZ(0,"mat-row",41),2&t&&e.Udp("cursor","pointer")}function fe(t,r){1&t&&(e.TgZ(0,"div",42),e._UZ(1,"mat-progress-spinner",43),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function he(t,r){if(1&t&&(e.TgZ(0,"div",44),e._uU(1," No results "),e.qZA()),2&t){const o=e.oxw();e.Udp("display",0===o.datosFuente.length?"":"none")}}const _e=function(){return[]},ge=function(){return[5,10,25,100]};let Ze=(()=>{class t{constructor(o,a,i,n,d){this.dialog=o,this.cliqProceduresService=a,this.authService=i,this.doctorService=n,this.router=d,this.filterToggle=!1,this.displayedColumns=["doctor","patient","quirofano","dateTime","typeProcedure","estatus","actions"],this.currentDate=(new Date).toISOString(),this.estatus=1,this.dataSource=new s.by,this.datosFuente=[],this.selection=new L.Ov(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},new s.by([])}ngOnInit(){this.loadData()}refresh(){this.loadData()}loadData(){this.cliqProceduresService.getAllProceduresDay("Admin",(new Date).toISOString()).subscribe(o=>{console.log(o.procedimientos.rows),this.datosFuente=o.procedimientos.rows,this.dataSource=new s.by(this.datosFuente),this.dataSource.paginator=this.paginator})}admission(o){f().fire({title:"\xbfDesea iniciar el proceso de admisi\xf3n?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/admission",{state:o})})}redirect(o){f().fire({title:"\xbfDesea editar la reserva de quirofano?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/editProcedure",{state:o})})}addNew(){let o;o="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(y.U,{data:{appointments:this.appointments,action:"add"},direction:o})}detailsCall(o){let a;console.log(o),a="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(y.U,{data:{appointments:o,action:"details"},direction:a,height:"71%",width:"35%"})}toggleStar(o){console.log(o)}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}getStatus(o){return"En espera"==o?"mat-primary":"En curso"==o?"mat-success":"mat-finish"}addSupplies(o){f().fire({title:"\xbfDesea agregar insumos al procedimiento?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/addSupplies",{state:{id:o}})})}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(H.uw),e.Y36(U.J),e.Y36(w.e8),e.Y36(S.e),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-current-procedures"]],viewQuery:function(a,i){if(1&a&&(e.Gf(P.NW,7),e.Gf(g.YE,7),e.Gf(V,7),e.Gf(R.p6,5)),2&a){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first),e.iGM(n=e.CRH())&&(i.filter=n.first),e.iGM(n=e.CRH())&&(i.contextMenu=n.first)}},decls:51,vars:14,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"right"],[1,"tbl-export-btn"],["matTooltip","XLSX",1,"export-button","m-l-10"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","id",2,"display","none"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","quirofano"],["matColumnDef","doctor"],["matColumnDef","patient"],["matColumnDef","typeProcedure"],["matColumnDef","estatus"],["matColumnDef","dateTime"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"mobile-label"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"matTooltip","click"],[3,"icon"],["matRipple",""],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),e._uU(12,"Citas"),e.qZA()()()(),e.TgZ(13,"div",11)(14,"ul",12)(15,"li"),e._UZ(16,"div",13),e.qZA()()()(),e.TgZ(17,"div",14)(18,"div",15)(19,"mat-table",16,17),e.ynx(21,18),e.YNc(22,z,2,0,"mat-header-cell",19),e.YNc(23,X,2,1,"mat-cell",20),e.BQk(),e.ynx(24,21),e.YNc(25,K,2,0,"mat-header-cell",19),e.YNc(26,W,4,1,"mat-cell",20),e.BQk(),e.ynx(27,22),e.YNc(28,ee,2,0,"mat-header-cell",19),e.YNc(29,te,4,1,"mat-cell",20),e.BQk(),e.ynx(30,23),e.YNc(31,oe,2,0,"mat-header-cell",19),e.YNc(32,ie,4,1,"mat-cell",20),e.BQk(),e.ynx(33,24),e.YNc(34,ae,2,0,"mat-header-cell",19),e.YNc(35,re,4,1,"mat-cell",20),e.BQk(),e.ynx(36,25),e.YNc(37,ne,2,0,"mat-header-cell",19),e.YNc(38,ce,4,1,"mat-cell",20),e.BQk(),e.ynx(39,26),e.YNc(40,le,2,0,"mat-header-cell",19),e.YNc(41,se,5,3,"mat-cell",20),e.BQk(),e.ynx(42,27),e.YNc(43,de,2,0,"mat-header-cell",28),e.YNc(44,me,3,4,"mat-cell",29),e.BQk(),e.YNc(45,ue,1,0,"mat-header-row",30),e.YNc(46,pe,1,2,"mat-row",31),e.qZA(),e.YNc(47,fe,2,1,"div",32),e.YNc(48,he,2,2,"div",33),e._UZ(49,"mat-paginator",34,35),e.qZA()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Procedimientos CLIQ")("items",e.DdM(12,_e))("active_item","Procedimientos de hoy"),e.xp6(16),e.Q6J("dataSource",i.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==i.exampleDatabase?null:i.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=i.exampleDatabase&&i.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",i.datosFuente.length)("pageIndex",0)("pageSize",5)("pageSizeOptions",e.DdM(13,ge)))},dependencies:[_.O5,D.RK,P.NW,J.Ou,x.wG,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,$.gM,G.A,T.L,N.m]})}return t})();var ve=c(9182),A=c(8034),h=c(4170),F=c(2032),O=c(8525);function Ce(t,r){if(1&t&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.id_medico),e.xp6(1),e.hij(" ",o.nombre+" "+o.apellidos," ")}}function Te(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar un Medico"))}function Ae(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar una fecha"))}function be(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Medico "),e.qZA())}function qe(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Medico:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Medico.nombre+" "+o.Medico.apellidos," ")}}function xe(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Paciente "),e.qZA())}function Pe(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Name:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Paciente.nombre+" "+o.Paciente.apellidos," ")}}function Ue(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Fecha y Hora "),e.qZA())}function De(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Date & Time:"),e.qZA(),e._uU(3),e.ALo(4,"CustomDateTablePipe"),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,1,o.fecha_procedimiento)," ")}}function ye(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Quirofano "),e.qZA())}function we(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Quirofano:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Quirofano.nombre_quirofano," ")}}function Se(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Procedimiento "),e.qZA())}function Ne(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Mobile:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.Tipo_Procedimiento.nombre_procedimiento," ")}}function Fe(t,r){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Estatus "),e.qZA())}function Qe(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",42),e._uU(2,"Mobile:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.estatus," ")}}function Ye(t,r){1&t&&e._UZ(0,"mat-header-row")}function Ie(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"mat-row",43),e.NdJ("click",function(){const n=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.redirect(n))}),e.qZA()}2&t&&e.Udp("cursor","pointer")}function Je(t,r){1&t&&(e.TgZ(0,"div",44),e._UZ(1,"mat-progress-spinner",45),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function Oe(t,r){if(1&t&&(e.TgZ(0,"div",46),e._uU(1," Sin resultados "),e.qZA()),2&t){const o=e.oxw(2);e.Udp("display",0===o.dataSource.filteredData.length?"":"none")}}function Me(t,r){if(1&t&&(e.TgZ(0,"div",4)(1,"div",20)(2,"div",5)(3,"div",21)(4,"div",22)(5,"ul",23)(6,"li",24)(7,"h2"),e._uU(8,"Citas"),e.qZA()()()()(),e.TgZ(9,"div",25)(10,"div",26)(11,"mat-table",27,28),e.ynx(13,29),e.YNc(14,be,2,0,"mat-header-cell",30),e.YNc(15,qe,4,1,"mat-cell",31),e.BQk(),e.ynx(16,32),e.YNc(17,xe,2,0,"mat-header-cell",30),e.YNc(18,Pe,4,1,"mat-cell",31),e.BQk(),e.ynx(19,33),e.YNc(20,Ue,2,0,"mat-header-cell",30),e.YNc(21,De,5,3,"mat-cell",31),e.BQk(),e.ynx(22,34),e.YNc(23,ye,2,0,"mat-header-cell",30),e.YNc(24,we,4,1,"mat-cell",31),e.BQk(),e.ynx(25,35),e.YNc(26,Se,2,0,"mat-header-cell",30),e.YNc(27,Ne,4,1,"mat-cell",31),e.BQk(),e.ynx(28,36),e.YNc(29,Fe,2,0,"mat-header-cell",30),e.YNc(30,Qe,4,1,"mat-cell",31),e.BQk(),e.YNc(31,Ye,1,0,"mat-header-row",37),e.YNc(32,Ie,1,2,"mat-row",38),e.qZA(),e.YNc(33,Je,2,1,"div",39),e.YNc(34,Oe,2,2,"div",40),e.qZA()()()()()),2&t){const o=e.oxw();e.xp6(11),e.Q6J("dataSource",o.dataSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==o.exampleDatabase?null:o.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=o.exampleDatabase&&o.exampleDatabase.isTblLoading))}}const ke=function(){return[]};let Be=(()=>{class t{constructor(o,a,i,n,d){this.fb=o,this.cliqProceduresService=a,this.authService=i,this.doctorService=n,this.router=d,this.idMedico=0,this.calendarForm=this.fb.group({fecha:[,l.kI.required],medico:[,l.kI.required]}),this.dataSource=new s.by,this.datosFuente=[],this.minDate=new Date,this.showTable=!1,this.doctors=[],this.myFilter=u=>{const m=(u||new Date).getDay();return 0!==m&&6!==m},this.displayedColumns=["doctor","patient","quirofano","dateTime","typeProcedure","estatus"]}ngOnInit(){this.doctorService.getAllDoctorss().subscribe(o=>{this.doctors=o.medicos})}onDateChange(o){if(!this.calendarForm.valid)return void this.calendarForm.markAllAsTouched();const a=new Date(o.value).toISOString();this.cliqProceduresService.getProceduresCalendarAdmin(a,this.idMedico).subscribe(i=>{console.log(i),this.dataSource=new s.by(i.procedimientos.rows)}),this.showTable=!0}onDoctorChange(){this.idMedico=this.calendarForm.value.medico,this.calendarForm.get("fecha")?.reset(),this.showTable=!1}campoEsValido(o){return this.calendarForm.controls[o].errors&&this.calendarForm.controls[o].touched}redirect(o){f().fire({title:"\xbfDesea abrir el procedimieto?",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.router.navigateByUrl("admin/cliqProcedures/editProcedure",{state:o})})}detailsCall(o){let a;a="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(y.U,{data:{appointments:o,action:"details"},direction:a,height:"71%",width:"35%"})}getStatus(o){return"En espera"==o?"mat-primary":"En curso"==o?"mat-success":"mat-finish"}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(l.qu),e.Y36(U.J),e.Y36(w.e8),e.Y36(S.e),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-calendar-procedures"]],decls:26,vars:13,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],[3,"formGroup"],["appearance","outline",1,"col-3"],["formControlName","medico",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline",1,"col-4"],["matInput","","formControlName","fecha",3,"matDatepickerFilter","min","matDatepicker","dateInput"],["matSuffix","",3,"for"],["picker",""],["class","row",4,"ngIf"],[3,"value"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","doctor"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","dateTime"],["matColumnDef","quirofano"],["matColumnDef","typeProcedure"],["matColumnDef","estatus"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],["mat-sort-header",""],[1,"mobile-label"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,i){if(1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"div",6),e.TgZ(7,"div",7)(8,"div",8)(9,"form",9)(10,"div",4)(11,"mat-form-field",10)(12,"mat-label"),e._uU(13,"Medico"),e.qZA(),e.TgZ(14,"mat-select",11),e.NdJ("selectionChange",function(){return i.onDoctorChange()}),e.YNc(15,Ce,2,2,"mat-option",12),e.qZA(),e.YNc(16,Te,2,1,"mat-error",13),e.qZA(),e.TgZ(17,"mat-form-field",14)(18,"mat-label"),e._uU(19,"Fecha"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("dateInput",function(d){return i.onDateChange(d)}),e.qZA(),e._UZ(21,"mat-datepicker-toggle",16)(22,"mat-datepicker",null,17),e.YNc(24,Ae,2,1,"mat-error",13),e.qZA()()()(),e.YNc(25,Me,35,5,"div",18),e.qZA()()()()()),2&a){const n=e.MAs(23);e.xp6(3),e.Q6J("title","Citas")("items",e.DdM(12,ke))("active_item","Calendario"),e.xp6(6),e.Q6J("formGroup",i.calendarForm),e.xp6(6),e.Q6J("ngForOf",i.doctors),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("medico")),e.xp6(4),e.Q6J("matDatepickerFilter",i.myFilter)("min",i.minDate)("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("ngIf",i.campoEsValido("fecha")),e.xp6(1),e.Q6J("ngIf",i.showTable)}},dependencies:[_.sg,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,x.ey,A.Mq,A.hl,A.nW,h.KE,h.hX,h.TO,h.R9,F.Nt,J.Ou,x.wG,O.gD,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,T.L,N.m]})}return t})();var Ee=c(4589),Le=c(9741),Re=c(3517),M=c(9488),Q=c(617);function je(t,r){if(1&t&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.id_medico),e.xp6(1),e.hij(" ",o.nombre+" "+o.apellidos," ")}}function He(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar un paciente"))}function $e(t,r){if(1&t&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.id_paciente),e.xp6(1),e.hij(" ",o.nombre+" "+o.apellidos," ")}}function Ge(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar un paciente"))}function Ve(t,r){if(1&t&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.id_quirofano),e.xp6(1),e.hij(" ",o.nombre_quirofano," ")}}function ze(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar el motivo de la consulta"))}function Xe(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Debe seleccionar una fecha"))}function Ke(t,r){if(1&t&&(e.TgZ(0,"mat-button-toggle",29),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.value)("disabled",o.isDisable),e.xp6(1),e.hij(" ",o.name," ")}}function We(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu("Seleccionar un horario"))}function et(t,r){if(1&t&&(e.TgZ(0,"div",5)(1,"label"),e._uU(2,"Horario del procedimiento:"),e.qZA(),e.TgZ(3,"div",26)(4,"mat-button-toggle-group",27),e.YNc(5,Ke,2,3,"mat-button-toggle",28),e.qZA(),e.YNc(6,We,2,1,"mat-error",14),e.qZA()()),2&t){const o=e.oxw();e.xp6(5),e.Q6J("ngForOf",o.horariosLibres),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("horario"))}}const tt=function(){return[]};let ot=(()=>{class t{constructor(o,a,i,n,d,u,m){this.fb=o,this.patientsService=a,this.authService=i,this.doctorService=n,this.quirofanosService=d,this.cliqProceduresService=u,this.router=m,this.doctors=[],this.state={},this.patients=[],this.horariosLibres=[],this.idMedico=0,this.quirofanos=[],this.horariosQuirofanos=[],this.isVisible=!1,this.idReserva=0,this.formBackup={},this.procedureForm=this.fb.group({paciente:[,l.kI.required],medico:[,l.kI.required],fechaProcedimiento:[,l.kI.required],horario:[,l.kI.required],quirofano:[,l.kI.required]}),this.myFilter=q=>{const Z=(q||new Date).getDay();return 0!==Z&&6!==Z&&q>new Date},this.state=this.router.getCurrentNavigation()?.extras.state}ngOnInit(){null==this.state&&this.router.navigateByUrl("admin/dashboard/main",{replaceUrl:!0}),this.loadData()}loadData(){this.idMedico=this.state.Medico.id_medico,this.doctorService.getAllDoctorss().subscribe(m=>{this.doctors=m.medicos});let o=new Date(this.state.fecha_procedimiento),a=6e4*o.getTimezoneOffset(),i=new Date(o.getTime()+a),n=0==i.getMinutes()?"00":"30",d=i.getHours()+":"+n;this.isVisible=!0,this.procedureForm.get("medico")?.setValue(this.idMedico),this.procedureForm.get("paciente")?.setValue(this.state.Paciente.id_paciente),this.procedureForm.get("quirofano")?.setValue(this.state.id_quirofano),this.procedureForm.get("fechaProcedimiento")?.setValue(this.state.fecha_procedimiento),this.procedureForm.get("horario")?.setValue(d),this.idReserva=this.state.id_reserva,this.formBackup={paciente:this.state.Paciente.id_paciente,quirofano:this.state.id_quirofano,fechaProcedimiento:this.state.fecha_procedimiento,horario:d};let u=new Date(this.state.fecha_procedimiento);u=new Date(u.getFullYear(),u.getMonth(),u.getDate(),7,0),this.onDateChange({value:u}),this.quirofanosService.getQuirofanos().subscribe(m=>{this.quirofanos=m.quirofanos.rows}),this.patientsService.getAllPatients(this.idMedico).subscribe(m=>{this.patients=m.paciente})}changeDoctor(){this.procedureForm.get("paciente")?.reset(),this.idMedico=this.procedureForm.value.medico,this.patientsService.getAllPatients(this.idMedico).subscribe(o=>{this.patients=o.paciente})}editProcedure(){if(!this.procedureForm.valid)return void this.procedureForm.markAllAsTouched();const o=Ee.z.coerce.date();let a=new Date(this.procedureForm.get("fechaProcedimiento")?.value);if(!o.safeParse(a).success)return void f().fire({icon:"error",title:"Error fecha invalida"});let i=this.procedureForm.get("horario")?.value,n=i.split(":")[0],d=i.split(":")[1],u=a.setHours(parseInt(n));u=a.setMinutes(parseInt(d));let m=new Date(new Date(u).toISOString()),q=6e4*m.getTimezoneOffset(),Z=new Date(m.getTime()-q);this.procedureForm.get("fechaProcedimiento")?.setValue(Z.toISOString());let p={fecha_procedimiento:this.procedureForm.value.fechaProcedimiento,id_medico:this.idMedico,id_paciente:this.procedureForm.value.paciente,id_quirofano:this.procedureForm.value.quirofano};p.fecha_procedimiento!=this.formBackup.fechaProcedimiento||p.id_quirofano!=this.formBackup.quirofano||p.id_paciente!=this.formBackup.paciente||i!=this.formBackup.horario?this.cliqProceduresService.editProcedure(p,this.idReserva).subscribe({complete:()=>{this.procedureForm.reset(),this.isVisible=!1,f().fire("Se agendo procedimiento con exito"),this.router.navigateByUrl("admin/cliqProcedures/calendarProcedures",{replaceUrl:!0})},error:v=>{f().fire({icon:"error",title:"Error al editar procedimiento",text:v.msg}),this.loadData()}}):f().fire("No hay cambios registrados")}cleanDate(){this.procedureForm.get("fechaProcedimiento")?.reset(),this.isVisible=!1}onDateChange(o){this.isVisible=!0;let a=this.procedureForm.get("quirofano")?.value;null==o&&(o={value:new Date});let i=o.value,n=6e4*i.getTimezoneOffset(),d=new Date(i.getTime()-n);d=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);let u=new Date(d).toISOString();this.horariosLibres=[],this.quirofanosService.getHorarioQuirofano(a).subscribe(m=>{this.horariosQuirofanos=m.horariosQuirofanos,this.cliqProceduresService.getProceduresByDay(u,a).subscribe(q=>{let Z=q.procedimientos.map(p=>{let v=0==new Date(p.fecha_procedimiento).getUTCMinutes()?"00":"30";return{horario:new Date(p.fecha_procedimiento).getUTCHours()+":"+v}});this.horariosQuirofanos.forEach(p=>{let v=p.hora+":"+p.minutos;for(let Y=0;Y<Z.length;Y++)if(v==Z[Y].horario)return void this.horariosLibres.push({value:v,name:`${p.hora}:${p.minutos}`,isDisable:!0});this.horariosLibres.push({value:v,name:`${p.hora}:${p.minutos}`,isDisable:!1})})})})}campoEsValido(o){return this.procedureForm.controls[o].errors&&this.procedureForm.controls[o].touched}deleteProcedure(){f().fire({title:"\xbfSeguro que desea eliminar el procedimiento?",text:"No podras revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar"}).then(o=>{o.isConfirmed&&this.cliqProceduresService.deleteProcedure(this.idReserva).subscribe({next:a=>{f().fire({title:"Eliminado",text:a.msg,icon:"success"})},complete:()=>{this.procedureForm.reset(),this.isVisible=!1,this.router.navigateByUrl("admin/cliqProcedures/calendarProcedures",{replaceUrl:!0})},error:a=>{f().fire({icon:"error",title:"Error al editar procedimiento",text:a.msg}),this.loadData()}})})}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(l.qu),e.Y36(Le.$),e.Y36(w.e8),e.Y36(S.e),e.Y36(Re.I),e.Y36(U.J),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-procedure"]],decls:51,vars:16,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],["appearance","outline",1,"col-3"],["formControlName","medico",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","paciente"],["formControlName","quirofano",3,"selectionChange"],["matInput","","formControlName","fechaProcedimiento",3,"matDatepickerFilter","matDatepicker","dateInput"],["matSuffix","",3,"for"],["picker",""],["class","row",4,"ngIf"],[1,"row","align-self-end"],[1,"mb-3","me-3"],["type","button","mat-fab","","extended","","color","primary",1,"btn-space",3,"click"],["type","button","mat-fab","","extended","","color","warn",3,"click"],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-8","col-sm-6","mb-3"],["formControlName","horario","name","horarios","aria-label","horarios",2,"border","none"],["style","width: 6.2rem; border: solid 1px #e0e0e0",3,"value","disabled",4,"ngFor","ngForOf"],[2,"width","6.2rem","border","solid 1px #e0e0e0",3,"value","disabled"]],template:function(a,i){if(1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"form",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h2"),e._uU(10,"Editar Reserva"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",5)(14,"mat-form-field",11)(15,"mat-label"),e._uU(16,"Medico"),e.qZA(),e.TgZ(17,"mat-select",12),e.NdJ("selectionChange",function(){return i.changeDoctor()}),e.YNc(18,je,2,2,"mat-option",13),e.qZA(),e.YNc(19,He,2,1,"mat-error",14),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Paciente"),e.qZA(),e.TgZ(23,"mat-select",15),e.YNc(24,$e,2,2,"mat-option",13),e.qZA(),e.YNc(25,Ge,2,1,"mat-error",14),e.qZA(),e.TgZ(26,"mat-form-field",11)(27,"mat-label"),e._uU(28,"Quirofano"),e.qZA(),e.TgZ(29,"mat-select",16),e.NdJ("selectionChange",function(){return i.cleanDate()}),e.YNc(30,Ve,2,2,"mat-option",13),e.qZA(),e.YNc(31,ze,2,1,"mat-error",14),e.qZA(),e.TgZ(32,"mat-form-field",11)(33,"mat-label"),e._uU(34,"Fecha Procedimiento"),e.qZA(),e.TgZ(35,"input",17),e.NdJ("dateInput",function(d){return i.onDateChange(d)}),e.qZA(),e._UZ(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,19),e.YNc(39,Xe,2,1,"mat-error",14),e.qZA()(),e.YNc(40,et,7,2,"div",20),e.qZA()(),e.TgZ(41,"div",21)(42,"div",22)(43,"button",23),e.NdJ("click",function(){return i.editProcedure()}),e.TgZ(44,"mat-icon"),e._uU(45,"done"),e.qZA(),e._uU(46," Editar Procedimiento "),e.qZA(),e.TgZ(47,"button",24),e.NdJ("click",function(){return i.deleteProcedure()}),e.TgZ(48,"mat-icon"),e._uU(49,"delete_outline"),e.qZA(),e._uU(50," Eliminar Procedimiento "),e.qZA()()()()()()()()()),2&a){const n=e.MAs(38);e.xp6(3),e.Q6J("title","Procedimientos CLIQ")("items",e.DdM(15,tt))("active_item","Editar Procedimiento"),e.xp6(1),e.Q6J("formGroup",i.procedureForm),e.xp6(14),e.Q6J("ngForOf",i.doctors),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("medico")),e.xp6(5),e.Q6J("ngForOf",i.patients),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("paciente")),e.xp6(5),e.Q6J("ngForOf",i.quirofanos),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("quirofano")),e.xp6(4),e.Q6J("matDatepickerFilter",i.myFilter)("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("ngIf",i.campoEsValido("fechaProcedimiento")),e.xp6(1),e.Q6J("ngIf",i.isVisible)}},dependencies:[_.sg,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,x.ey,D.cs,M.A9,M.Yi,A.Mq,A.hl,A.nW,h.KE,h.hX,h.TO,h.R9,Q.Hw,F.Nt,O.gD,T.L],styles:["mat-button-toggle-group[_ngcontent-%COMP%]{flex-wrap:wrap}"]})}return t})();var k=c(9394),it=c(7921),at=c(7398),B=c(4630);function rt(t,r){if(1&t&&(e.TgZ(0,"mat-option",54),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o," ")}}function nt(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"div",4)(3,"mat-form-field",46),e._UZ(4,"input",47),e.TgZ(5,"mat-autocomplete",48,49),e.YNc(7,rt,2,2,"mat-option",50),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"mat-form-field",51)(10,"mat-label"),e._uU(11,"Cantidad"),e.qZA(),e._UZ(12,"input",52),e.qZA(),e.TgZ(13,"button",53),e.NdJ("click",function(){const n=e.CHM(o).index,d=e.oxw();return e.KtG(d.removeItem(n))}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA()()()()()}if(2&t){const o=r.index,a=e.MAs(6),i=e.oxw();e.xp6(1),e.Q6J("formGroupName",o),e.xp6(3),e.Q6J("formControl",i.myControl)("matAutocomplete",a),e.xp6(3),e.Q6J("ngForOf",e.lcZ(8,4,i.filteredOptions))}}function ct(t,r){1&t&&(e.TgZ(0,"mat-header-cell",55),e._uU(1,"SKU "),e.qZA())}function lt(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",56),e._uU(2,"SKU:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.sku," ")}}function st(t,r){1&t&&(e.TgZ(0,"mat-header-cell",55),e._uU(1,"Descripcion "),e.qZA())}function dt(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",56),e._uU(2,"Descripcion:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.descripcion," ")}}function mt(t,r){1&t&&(e.TgZ(0,"mat-header-cell",55),e._uU(1,"Numero Lote "),e.qZA())}function ut(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",56),e._uU(2,"Numero Lote:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.numeroLote," ")}}function pt(t,r){1&t&&(e.TgZ(0,"mat-header-cell",55),e._uU(1,"Fecha Caducidad "),e.qZA())}function ft(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",56),e._uU(2,"Fecha Caducidad:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.fechaCaducidad," ")}}function ht(t,r){1&t&&(e.TgZ(0,"mat-header-cell",55),e._uU(1,"Cantidad "),e.qZA())}function _t(t,r){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",56),e._uU(2,"Cantidad:"),e.qZA(),e._uU(3),e.qZA()),2&t){const o=r.$implicit;e.xp6(3),e.hij(" ",o.cantidadActual," ")}}function gt(t,r){1&t&&e._UZ(0,"mat-header-row")}function Zt(t,r){1&t&&e._UZ(0,"mat-row"),2&t&&e.Udp("cursor","pointer")}function vt(t,r){if(1&t&&(e.TgZ(0,"div",57),e._uU(1," No results "),e.qZA()),2&t){const o=e.oxw();e.Udp("display",0===o.dataLength?"":"none")}}const Ct=function(){return[]},Tt=function(){return[10,15,20]};let At=(()=>{class t{constructor(o,a,i,n,d){this.router=o,this.cliqProceduresService=a,this.insumosService=i,this.fb=n,this.cdr=d,this.medico="",this.paciente="",this.quirofano="",this.nombreProcedimiento="",this.fecha="",this.suppliesList=[],this.myControl=new l.NI,this.options=[],this.selectedtableData=[],this.dataLength=0,this.displayedColumns=["sku","descripcion","numeroLote","fechaCaducidad","cantidadActual"],this.state=this.router.getCurrentNavigation()?.extras.state,this.newItemsForm=this.fb.group({procedimiento:"",items:this.fb.array([])})}get items(){return this.newItemsForm.get("items")}newItem(){return this.fb.group({item:this.myControl,quantity:""})}addItems(){this.items.push(this.newItem())}removeItem(o){this.items.removeAt(o)}save(){console.log(this.newItemsForm.value)}ngOnInit(){console.log(this.state),null==this.state&&this.router.navigateByUrl("admin/dashboard/main",{replaceUrl:!0}),this.filteredOptions=this.myControl.valueChanges.pipe((0,it.O)(""),(0,at.U)(i=>this._filter(i||"")));const o=this.state.id;this.newItemsForm.get("procedimiento")?.setValue(o);let a="";o<=9?a="PC-PRM0000"+o:o>=10&&o<=99?a="PC-PRM000"+o:o>=100&&o<=999?a="PC-PRM00"+o:o>=1e3&&o<=9999?a="PC-PRM0"+o:o>=1e4&&o<=99999&&(a="PC-PRM"+o),this.cliqProceduresService.getProcedure(this.state.id).subscribe(i=>{this.medico=i.procedimiento["Medico.nombre"]+" "+i.procedimiento["Medico.apellidos"],this.paciente=i.procedimiento["Paciente.nombre"]+" "+i.procedimiento["Paciente.apellidos"],this.quirofano=i.procedimiento["Quirofano.nombre_quirofano"],this.nombreProcedimiento=i.procedimiento["Catalogo_Procedimiento.nombre_procedimiento"],this.fecha=i.procedimiento.fecha_procedimiento_inicio.toString()}),this.insumosService.getAllItemStockLists().subscribe(i=>{this.options=i.insumos.rows.map(n=>n.sku+" - "+n.descripcion)}),this.insumosService.getAllItemsByProcedure(a).subscribe(i=>{this.suppliesList=i.historialInsumosProcedimiento,this.dataSource=new s.by(this.suppliesList),this.cdr.detectChanges(),this.dataSource.paginator=this.paginator,this.dataLength=this.suppliesList.length})}selectedOption(o){console.log(o.option.value)}_filter(o){const a=o.toLowerCase();return this.options.filter(i=>i.toLowerCase().includes(a))}saveData(){console.log(this.myControl),console.log(this.dataSource.data)}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(C.F0),e.Y36(U.J),e.Y36(k.l),e.Y36(l.qu),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-supplies"]],viewQuery:function(a,i){if(1&a&&e.Gf(P.NW,5),2&a){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first)}},features:[e._Bn([k.l])],decls:99,vars:24,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card",2,"height","11rem"],[1,"header"],[1,"body"],[1,"example-container"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-5"],[1,"mt-3"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-12","mb-5"],[1,"card"],[1,"example-button-row"],[1,"example-flex-container"],[1,"example-button-container","right"],["type","button","mat-mini-fab","","color","primary",3,"click"],[3,"formGroup"],["formArrayName","items"],[4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"right"],[1,"body","overflow-auto"],[1,"table-responsive"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","sku"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","numeroLote"],["matColumnDef","fechaCaducidad"],["matColumnDef","cantidadActual"],[4,"matHeaderRowDef"],[3,"cursor",4,"matRowDef","matRowDefColumns"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSizeOptions"],["paginator",""],[3,"formGroupName"],[1,"col-4"],["placeholder","Insumo","type","text","aria-label","Search box","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"col-4"],["matInput","","formControlName","quantity","required","","type","number"],["color","warn","mat-mini-fab","",3,"click"],[3,"value"],["mat-sort-header",""],[1,"mobile-label"],[1,"no-results"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),e._uU(9,"Informacion del procedimiento"),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",4)(13,"div",10)(14,"mat-label"),e._uU(15,"Medico "),e.qZA(),e.TgZ(16,"h6",11),e._uU(17),e.qZA()(),e.TgZ(18,"div",10)(19,"mat-label"),e._uU(20,"Paciente "),e.qZA(),e.TgZ(21,"h6",11),e._uU(22),e.qZA()(),e.TgZ(23,"div",12)(24,"mat-label"),e._uU(25,"Quirofano "),e.qZA(),e.TgZ(26,"h6",11),e._uU(27),e.qZA()(),e.TgZ(28,"div",12)(29,"mat-label"),e._uU(30,"Procedimiento "),e.qZA(),e.TgZ(31,"h6",11),e._uU(32),e.qZA()(),e.TgZ(33,"div",12)(34,"mat-label"),e._uU(35,"Fecha y Hora "),e.qZA(),e.TgZ(36,"h6",11),e._uU(37),e.ALo(38,"CustomDateTablePipe"),e.qZA()()()()()()()(),e.TgZ(39,"div",4)(40,"div",5)(41,"div",13)(42,"div",7)(43,"h2"),e._uU(44,"Agregar Materiales"),e.qZA(),e.TgZ(45,"div",14)(46,"div",15)(47,"div",16)(48,"button",17),e.NdJ("click",function(){return i.save()}),e.TgZ(49,"mat-icon"),e._uU(50,"save"),e.qZA()(),e.TgZ(51,"button",17),e.NdJ("click",function(){return i.addItems()}),e.TgZ(52,"mat-icon"),e._uU(53,"plus_one"),e.qZA()()()()()(),e.TgZ(54,"div",8)(55,"div",9)(56,"div",4)(57,"form",18)(58,"div",19),e.YNc(59,nt,16,6,"div",20),e.qZA()(),e._uU(60),e.ALo(61,"json"),e.qZA()()()()()(),e.TgZ(62,"div",4)(63,"div",21)(64,"div",13)(65,"div",22)(66,"div",23)(67,"ul",24)(68,"li",25)(69,"h2"),e._uU(70,"Listado Insumos Asignados"),e.qZA()(),e.TgZ(71,"li",26),e._UZ(72,"label",27)(73,"form"),e.qZA()()(),e._UZ(74,"div",28),e.qZA(),e.TgZ(75,"div",29)(76,"div",30)(77,"mat-table",31,32),e.ynx(79,33),e.YNc(80,ct,2,0,"mat-header-cell",34),e.YNc(81,lt,4,1,"mat-cell",35),e.BQk(),e.ynx(82,36),e.YNc(83,st,2,0,"mat-header-cell",34),e.YNc(84,dt,4,1,"mat-cell",35),e.BQk(),e.ynx(85,37),e.YNc(86,mt,2,0,"mat-header-cell",34),e.YNc(87,ut,4,1,"mat-cell",35),e.BQk(),e.ynx(88,38),e.YNc(89,pt,2,0,"mat-header-cell",34),e.YNc(90,ft,4,1,"mat-cell",35),e.BQk(),e.ynx(91,39),e.YNc(92,ht,2,0,"mat-header-cell",34),e.YNc(93,_t,4,1,"mat-cell",35),e.BQk(),e.YNc(94,gt,1,0,"mat-header-row",40),e.YNc(95,Zt,1,2,"mat-row",41),e.qZA(),e.YNc(96,vt,2,2,"div",42),e._UZ(97,"mat-paginator",43,44),e.qZA()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Procedimientos CLIQ")("items",e.DdM(22,Ct))("active_item","Insumos del procedimiento"),e.xp6(14),e.Oqu(i.medico),e.xp6(5),e.Oqu(i.paciente),e.xp6(5),e.Oqu(i.quirofano),e.xp6(5),e.Oqu(i.nombreProcedimiento),e.xp6(5),e.Oqu(e.lcZ(38,18,i.fecha)),e.xp6(20),e.Q6J("formGroup",i.newItemsForm),e.xp6(2),e.Q6J("ngForOf",i.items.controls),e.xp6(1),e.hij(" ",e.lcZ(61,20,i.newItemsForm.value)," "),e.xp6(17),e.Q6J("dataSource",i.dataSource),e.xp6(17),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",i.dataSource),e.xp6(1),e.Q6J("length",i.dataLength)("pageIndex",0)("pageSizeOptions",e.DdM(23,Tt)))},dependencies:[_.sg,_.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.F,l.oH,l.sg,l.u,l.x0,l.CE,B.XC,x.ey,B.ZL,D.nh,h.KE,h.hX,Q.Hw,F.Nt,P.NW,g.YE,g.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,T.L,_.Ov,_.Ts,N.m],styles:[".table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}mat-table[_ngcontent-%COMP%]{width:1200px;max-width:1200px;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}mat-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%]{display:table-row}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 5px;line-break:unset;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle}"]})}return t})();var b=c(5195);const bt=function(){return[]},xt=function(){return[]},Pt=[{path:"currentProcedures",component:Ze},{path:"calendarProcedures",component:Be},{path:"editProcedure",component:ot},{path:"addSupplies",component:At},{path:"formats",component:(()=>{class t{download(){let o=document.createElement("a");o.setAttribute("type","hidden"),o.href="/assets/formats/CLIQ-FTO-0000-NOTA-DE-ADMISION.pdf",o.download="formatoAdmision.pdf",document.body.appendChild(o),o.click(),o.remove()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-formats"]],decls:26,vars:4,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","col-3"],[1,"example-card"],["type","button","mat-fab","","extended","","color","primary",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"mat-card",5)(6,"mat-card-header")(7,"mat-card-title"),e._uU(8,"Nota De Admisi\xf3n De Paciente "),e.qZA(),e.TgZ(9,"mat-card-subtitle"),e._uU(10,"Procedimientos CLIQ S.A. De C.V."),e.qZA()(),e.TgZ(11,"mat-card-content"),e._UZ(12,"hr"),e.TgZ(13,"p"),e._uU(14," Nota de admisi\xf3n del paciente, con informaci\xf3n necesaria para la admisi\xf3n como. "),e.qZA(),e.TgZ(15,"p"),e._uU(16,"-Datos Del Paciente."),e.qZA(),e.TgZ(17,"p"),e._uU(18,"-Datos del Responsable Del Paciente."),e.qZA(),e.TgZ(19,"p"),e._uU(20,"-Notas Adicionales"),e.qZA()(),e.TgZ(21,"mat-card-actions")(22,"button",6),e.NdJ("click",function(){return i.download()}),e.TgZ(23,"mat-icon"),e._uU(24,"download"),e.qZA(),e._uU(25,"Descargar "),e.qZA()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Citas")("items",e.DdM(3,bt))("active_item","Calendario"))},dependencies:[D.cs,b.a8,b.hq,b.dn,b.dk,b.$j,b.n5,Q.Hw,T.L]})}return t})()},{path:"admission",component:(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-admission-procedure-admin"]],decls:33,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-5"],[1,"mt-3"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),e._uU(9,"Informacion del procedimiento"),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",4)(13,"div",10)(14,"mat-label"),e._uU(15,"Medico "),e.qZA(),e.TgZ(16,"h5",11),e._uU(17),e.qZA()(),e.TgZ(18,"div",10)(19,"mat-label"),e._uU(20,"Paciente "),e.qZA(),e.TgZ(21,"h5",11),e._uU(22),e.qZA()(),e.TgZ(23,"div",10)(24,"mat-label"),e._uU(25,"Quirofano "),e.qZA(),e.TgZ(26,"h5",11),e._uU(27),e.qZA()(),e.TgZ(28,"div",10)(29,"mat-label"),e._uU(30,"Fecha y Hora "),e.qZA(),e.TgZ(31,"h5",11),e._uU(32),e.qZA()()()()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Procedimientos CLIQ")("items",e.DdM(7,xt))("active_item","Insumos del procedimiento"),e.xp6(14),e.Oqu("medico"),e.xp6(5),e.Oqu("paciente"),e.xp6(5),e.Oqu("quirofano"),e.xp6(5),e.Oqu("fecha"))},dependencies:[h.hX,T.L]})}return t})()},{path:"**",component:ve.J}];let Ut=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(Pt),C.Bz]})}return t})();var Dt=c(1858);let yt=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[_.ez,l.u5,l.UX,E.m,Ut,Dt.K]})}return t})()}}]);